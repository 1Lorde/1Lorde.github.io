(this.webpackJsonpekoop=this.webpackJsonpekoop||[]).push([[14],{1519:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(60),i=a(371),s=a(377),o=a(12),d=a(445),l=a(8);t.default=()=>{const{t:e}=Object(d.a)(),t=Object(o.g)(),[a,p]=Object(r.useState)([]),[u,b]=Object(r.useState)(0),[g,h]=Object(r.useState)(!1),j=Object(r.useRef)(0),f=Object(r.useCallback)((a=>{let{skip:r}=a;++j.current===j.current&&(h(!1),Object(i.c)(r).then((a=>{if(a.ok){var r;console.log(a);let c=Math.floor(a.pagination.total/a.pagination.limit);a.pagination.total/a.pagination.limit>u&&(c+=1),b(c),p(null===(r=a.data)||void 0===r?void 0:r.map((a=>({created:a.created,sender:a.sender,title:a.title,content:a.content,action:Object(l.jsx)(n.e,{color:"dark",size:"sm",onClick:()=>t.push("/notifications/"+a.id),children:e("view")})})))),h(!0)}})))}),[]),O=c.a.useMemo((()=>[{Header:e("date"),accessor:"created"},{Header:e("sender"),accessor:"sender"},{Header:e("title"),accessor:"title"},{Header:e("content"),accessor:"content"},{Header:e("action"),accessor:"action"}]),[e]);return Object(l.jsx)(n.o,{fluid:!0,children:Object(l.jsx)(n.V,{children:Object(l.jsx)(n.h,{children:Object(l.jsx)(n.i,{children:Object(l.jsx)(s.a,{columns:O,data:a,controlledPageCount:u,fetchData:f,hasLoaded:g})})})})})}},369:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return n}));const r={changePassword:"change-password",clientRegister:"client-register",clientApprove:"client-approve",clientReject:"client-reject",userCreate:"user-create",userEdit:"user-edit",nasabahCreate:"nasabah-create",nasabahEdit:"nasabah-edit",profileEdit:"profile-edit",packageCreate:"package-create",packageEdit:"package-edit",productCreate:"product-create",productEdit:"product-edit",ppobAllMarginEdit:"ppob-all-margin-edit",ppobEdit:"ppob-edit"},c={"change-password":"Password changed","client-register":"New client registered","client-approve":"Request approved","client-reject":"Request rejected","user-create":"New user created","user-edit":"User updated","nasabah-create":"New nasabah created","nasabah-edit":"Nasabah updated","profile-edit":"Profile updated","package-create":"New package created","package-edit":"Package updated","product-create":"New product created","product-edit":"Product updated","ppob-all-margin-edit":"All services margin updated","ppob-edit":"PPOB updated"},n={"change-password":"User's password changed","client-register":"New client registration request created","client-approve":"Client registration request approved","client-reject":"Client registration request rejected","user-create":"New user created: ","user-edit":"User`s info edited: ","nasabah-create":"New nasabah created: ","nasabah-edit":"Nasabah`s info updated: ","profile-edit":"Profile`s info updated","package-create":"New package created: ","package-edit":"Package`s info updated: ","product-create":"New product created: ","product-edit":"Product`s info updated: ","ppob-all-margin-edit":"All services margin updated","ppob-edit":"PPOB`s info updated: "}},371:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return l}));var r=a(368),c=a.n(r),n=a(367),i=a(369);const s="https://api.ekoop.id/v01";function o(e){return c.a.get(s+"/users/notification?skip="+e,{headers:Object(n.b)()}).then((e=>e.data)).catch((e=>{if(403===e.response.status)return console.log(e.message),null}))}function d(e){return c.a.get(s+"/users/notification/"+e,{headers:Object(n.b)()}).then((e=>e.data)).catch((e=>{if(403===e.response.status)return console.log(e.message),null}))}function l(e,t,a){const r={sender:e,service:t,title:i.c[t],content:i.a[t]+a,reference_id:""};return c.a.post(s+"/users/notification",r,{headers:Object(n.b)()}).then((e=>e.data)).catch((e=>{console.log(e.response.data)}))}},377:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(382),c=a(60),n=a(0),i=a(372);const s=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,16C123.452,16,16,123.452,16,256S123.452,496,256,496,496,388.548,496,256,388.548,16,256,16ZM403.078,403.078a207.253,207.253,0,1,1,44.589-66.125A207.332,207.332,0,0,1,403.078,403.078Z' class='ci-primary'/><rect width='40' height='40' x='152' y='200' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='40' height='40' x='320' y='200' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,288a88.1,88.1,0,0,0-88,88h32a56,56,0,0,1,112,0h32A88.1,88.1,0,0,0,256,288Z' class='ci-primary'/>"];var o=a(445),d=a(8);function l(e){let{columns:t,data:a,controlledPageCount:l,fetchData:p,hasLoaded:u}=e;const{t:b}=Object(o.a)(),{getTableProps:g,getTableBodyProps:h,headerGroups:j,prepareRow:f,page:O,canPreviousPage:x,canNextPage:m,pageOptions:v,gotoPage:P,nextPage:k,previousPage:w,state:{pageIndex:C}}=Object(r.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10},manualPagination:!0,pageCount:l},r.usePagination);return Object(n.useEffect)((()=>{p&&p({skip:10*C})}),[p,C]),u?O.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(c.bb,{hover:!0,responsive:!0,style:{minWidth:"45rem"},...g(),children:[Object(d.jsx)(c.eb,{children:j.map(((e,t)=>Object(d.jsx)(c.gb,{...e.getHeaderGroupProps(),children:e.headers.map(((e,t)=>Object(d.jsx)(c.fb,{...e.getHeaderProps(),children:e.render("Header")},t)))},t)))}),Object(d.jsx)(c.cb,{...h(),children:O.map(((e,t)=>(f(e),Object(d.jsx)(c.gb,{...e.getRowProps(),children:e.cells.map(((e,t)=>Object(d.jsx)(c.db,{...e.getCellProps(),children:e.render("Cell")},t)))},t))))})]}),Object(d.jsxs)(c.o,{className:"d-flex justify-content-end align-items-center",children:[Object(d.jsx)(c.G,{className:"pe-2",children:b("go_to_page")+":"}),Object(d.jsx)(c.y,{min:1,max:l,type:"number",defaultValue:C+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;P(t)},style:{width:"100px"}})]}),Object(d.jsxs)(c.T,{align:"center","aria-label":"Page navigation",children:[Object(d.jsx)(c.U,{"aria-label":"First",onClick:()=>P(0),disabled:!x,children:"<<"}),Object(d.jsx)(c.U,{"aria-label":"Previous",onClick:()=>w(),disabled:!x,children:"<"}),Object(d.jsxs)(c.U,{"aria-label":"Current",style:{pointerEvents:"none"},children:[b("page")," ",Object(d.jsx)("strong",{children:C+1})," of ",Object(d.jsx)("strong",{children:v.length})]}),Object(d.jsx)(c.U,{"aria-label":"Next",onClick:()=>k(),disabled:!m,children:">"}),Object(d.jsx)(c.U,{"aria-label":"Last",onClick:()=>P(l-1),disabled:!m,children:">>"})]})]}):Object(d.jsx)(c.n,{className:"d-flex justify-content-center",children:Object(d.jsxs)(c.G,{children:[b("nothing_there")," ",Object(d.jsx)(i.a,{icon:s})," "]})}):Object(d.jsx)(c.n,{className:"d-flex justify-content-center",children:Object(d.jsx)(c.ab,{color:"primary"})})}}}]);
//# sourceMappingURL=14.9a7c6c8d.chunk.js.map