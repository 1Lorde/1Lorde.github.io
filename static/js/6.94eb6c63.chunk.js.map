{"version":3,"sources":["views/my_company/MyCompany.js","helpers/api_requests.js"],"names":["MyCompany","userState","useContext","UserContext","company","setCompany","useState","hasLoaded","setHasLoaded","useEffect","className","htmlFor","type","id","placeholder","defaultValue","onChange","e","target","value","address","documents","NPWP","no","SIUP","TDP","fluid","rounded","src","width","height","package","name","disabled","status","contact","dir_name","ktp_id","wa_number","color","onClick","updateClient","then","data","ok","store","addNotification","success","console","log","Loader","API_URL","getUsers","searchQuery","axios","get","headers","authHeader","response","catch","reason","message","getUser","updateUser","user","put","role","createUser","post","getClient","clientId","client","getClients","getProducts","createProduct","product","updateProduct","changes","description","balance_start","percent_rate","limit_min","limit_max","active","rate_type","credit_simulation_id","getServices","getNasabah","nasabah_list"],"mappings":"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","file":"static/js/6.94eb6c63.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport {\n  CButton,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CImage,\n  CRow,\n} from '@coreui/react'\nimport { UserContext } from '../../helpers/user'\nimport { updateClient } from '../../helpers/api_requests'\nimport { store } from 'react-notifications-component'\nimport { success } from '../../helpers/notifications'\nimport Loader from '../../components/Loader'\n\nconst MyCompany = () => {\n  const { userState } = useContext(UserContext)\n  const [company, setCompany] = useState({})\n  const [hasLoaded, setHasLoaded] = useState({})\n\n  useEffect(() => {\n    setHasLoaded(true)\n  }, [])\n\n  const handleEdit = () => {\n    updateClient(userState.company.id, company).then((data) => {\n      if (data.ok) {\n        store.addNotification(success('Company details updated'))\n      } else {\n        console.log(data)\n      }\n    })\n  }\n\n  return hasLoaded ? (\n    <CForm>\n      <CRow>\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"company_name\">Company name</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"company_name\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.company}\n              onChange={(e) => {\n                setCompany((company) => ({ ...company, company: e.target.value }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"address\">Address</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"address\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.address}\n              onChange={(e) => {\n                setCompany((company) => ({ ...company, address: e.target.value }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"npwp\">NPWP Number</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"npwp\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.documents?.NPWP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    NPWP: {\n                      ...company.documents.NPWP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"siup\">SIUP Number</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"siup\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.documents?.SIUP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    SIUP: {\n                      ...company.documents.SIUP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"tdp\">TDP Number</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"tdp\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.documents?.TDP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    TDP: {\n                      ...company.documents.TDP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n        </CCol>\n        <CCol>\n          <CContainer fluid className=\"d-flex justify-content-center\">\n            <CImage\n              rounded\n              src={'https://via.placeholder.com/550x390.png?text=' + userState.company.company}\n              width={550}\n              height={390}\n              className=\"mt-4\"\n            />\n          </CContainer>\n        </CCol>\n      </CRow>\n      <CRow className=\"mb-4 mt-3\">\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"website\">Website</CFormLabel>\n            <CFormInput type=\"text\" id=\"website\" placeholder=\"No data provided\" />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"subscription\">Subscription Package</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"subscription\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.package?.name}\n              disabled\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"status\">Status</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"status\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.status}\n              disabled\n            />\n          </div>\n        </CCol>\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"director\">Director Name</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"director\"\n              defaultValue={userState.company.contact?.dir_name}\n              disabled\n              placeholder=\"No data provided\"\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"ktp\">KTP Number</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"ktp\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.contact?.ktp_id}\n              disabled\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"wa\">WhatsApp Number</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"wa\"\n              placeholder=\"No data provided\"\n              defaultValue={userState.company.contact?.wa_number}\n              disabled\n            />\n          </div>\n        </CCol>\n      </CRow>\n      <CRow className=\"mb-3\">\n        <div className=\"d-flex justify-content-end\">\n          <CButton color=\"primary\" onClick={handleEdit}>\n            Edit\n          </CButton>\n        </div>\n      </CRow>\n    </CForm>\n  ) : (\n    Loader()\n  )\n}\n\nexport default MyCompany\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\n\nconst API_URL = 'https://api.ekoop.id/v01'\n\nexport function getUsers(searchQuery) {\n  return axios\n    .get(API_URL + '/auth/user?search=' + searchQuery, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getUser(id) {\n  return axios\n    .get(API_URL + '/auth/user/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateUser(user) {\n  return axios\n    .put(\n      API_URL + '/auth/user/' + user.id,\n      {\n        wa_number: user.wa_number,\n        name: user.name,\n        address: user.address,\n        role: user.role,\n        status: user.status,\n        // avatar: user.avatar,\n        // ktp_image: user.ktp_image,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function createUser(user) {\n  return axios\n    .post(API_URL + '/auth/user', user, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClient(id) {\n  return axios\n    .get(API_URL + '/users/admin/client/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateClient(clientId, client) {\n  return axios\n    .put(API_URL + '/users/admin/client/' + clientId, client, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClients() {\n  return axios\n    .get(API_URL + '/users/admin/client', { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getProducts(searchQuery, type) {\n  return axios\n    .get(API_URL + '/transaction/products?search=' + searchQuery + '&tipe=' + type, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function createProduct(product) {\n  return axios\n    .post(API_URL + '/transaction/products', product, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n\nexport function updateProduct(product) {\n  const changes = {\n    name: product.name,\n    description: product.description,\n    balance_start: product.balance_start,\n    percent_rate: product.percent_rate,\n    limit_min: product.limit_min,\n    limit_max: product.limit_max,\n    active: product.active,\n    rate_type: product.rate_type,\n  }\n\n  return axios\n    .put(API_URL + '/transaction/products/' + product.credit_simulation_id, changes, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getServices() {\n  return axios\n    .get(API_URL + '/transaction/services', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function getNasabah() {\n  return axios\n    .get(API_URL + '/nasabah/nasabah', { headers: authHeader() })\n    .then((response) => {\n      return response.data.nasabah_list\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n"],"sourceRoot":""}