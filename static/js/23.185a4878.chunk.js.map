{"version":3,"sources":["views/packages/package_list/PackageList.js","api/api_package.js"],"names":["PackageList","t","useTranslation","history","useHistory","packages","setPackages","useState","hasLoaded","setHasLoaded","useEffect","getAdminPackages","then","data","ok","console","log","className","color","onClick","push","map","pack","index","xxl","md","style","width","height","cursor","id","orientation","src","name","description","active","shape","Loader","API_URL","getPackages","axios","get","headers","apiHeader","response","catch","reason","authHeader","getPackage","updatePackage","put","slug","price_monthly","price","monthly","price_yearly","yearly","quota_AO","quota","account_officer","quota_nasabah","nasabah","createPackage","post"],"mappings":"kGAAA,oEAmFeA,UAhEK,KAClB,MAAM,EAAEC,GAAMC,cACRC,EAAUC,eACTC,EAAUC,GAAeC,mBAAS,KAClCC,EAAWC,GAAgBF,qBAYlC,OAVAG,qBAAU,KACRC,cAAmBC,MAAMC,KACP,IAAZA,EAAKC,KACPC,QAAQC,IAAIH,GACZP,EAAYO,EAAKA,MACjBJ,GAAa,SAGhB,IAEID,EACL,eAAC,IAAD,WACE,cAAC,IAAD,CAAMS,UAAU,qBAAhB,SACE,cAAC,IAAD,CAAMA,UAAW,6BAAjB,SACE,cAAC,IAAD,CAASC,MAAM,UAAUC,QAAS,IAAMhB,EAAQiB,KAAK,oBAArD,SACGnB,EAAE,iBAKT,cAAC,IAAD,CAAMgB,UAAU,6BAAhB,gBACGZ,QADH,IACGA,OADH,EACGA,EAAUgB,KAAI,CAACC,EAAMC,IAElB,cAAC,IAAD,CAAkBC,IAAK,EAAGC,GAAI,EAAGR,UAAU,OAA3C,SACE,eAAC,IAAD,CACES,MAAO,CAAEC,MAAO,QAASC,OAAQ,OAAQC,OAAQ,WACjDV,QAAS,KACPhB,EAAQiB,KAAK,aAAeE,EAAKQ,KAHrC,UAME,cAAC,IAAD,CACEC,YAAY,MACZC,IAAK,gDAAkDV,EAAKW,OAE9D,eAAC,IAAD,CAAWhB,UAAU,cAArB,UACE,cAAC,IAAD,UAAaK,EAAKW,OAClB,cAAC,IAAD,UAAYX,EAAKY,cAChBZ,EAAKa,OACJ,cAAC,IAAD,CAAQjB,MAAM,UAAUkB,MAAM,eAA9B,SACGnC,EAAE,YAGL,cAAC,IAAD,CAAQiB,MAAM,OAAOkB,MAAM,eAA3B,SACGnC,EAAE,qBApBFsB,UA+BnBc,gB,iCC/EJ,yMAGA,MAAMC,EAAU,2BAET,SAASC,IACd,OAAOC,IACJC,IAAIH,EAAU,kBAAmB,CAAEI,QAASC,gBAC5C/B,MAAMgC,GACEA,EAAS/B,OAEjBgC,OAAOC,IACN/B,QAAQC,IAAI8B,MAIX,SAASnC,IACd,OAAO6B,IACJC,IAAIH,EAAU,wBAAyB,CAAEI,QAASK,gBAClDnC,MAAMgC,GACEA,EAAS/B,OAEjBgC,OAAOC,IACN/B,QAAQC,IAAI8B,MAIX,SAASE,EAAWlB,GACzB,OAAOU,IACJC,IAAIH,EAAU,yBAA2BR,EAAI,CAAEY,QAASK,gBACxDnC,MAAMgC,GACEA,EAAS/B,OAEjBgC,OAAOC,IACN/B,QAAQC,IAAI8B,MAIX,SAASG,EAAcnB,EAAIR,GAChC,OAAOkB,IACJU,IACCZ,EAAU,yBAA2BR,EACrC,CACEG,KAAMX,EAAKW,KACXkB,KAAM7B,EAAK6B,KACXjB,YAAaZ,EAAKY,YAClBkB,cAAe9B,EAAK+B,MAAMC,QAC1BC,aAAcjC,EAAK+B,MAAMG,OACzBC,SAAUnC,EAAKoC,MAAMC,gBACrBC,cAAetC,EAAKoC,MAAMG,QAC1B1B,OAAwB,SAAhBb,EAAKa,QAEf,CACEO,QAASK,gBAGZnC,MAAMgC,GACEA,EAAS/B,OAEjBgC,OAAOC,GACCA,EAAOF,SAAS/B,OAItB,SAASiD,EAAcxC,GAC5B,OAAOkB,IACJuB,KACCzB,EAAU,wBACV,CACEL,KAAMX,EAAKW,KACXkB,KAAM7B,EAAK6B,KACXjB,YAAaZ,EAAKY,YAClBkB,cAAe9B,EAAK+B,MAAMC,QAC1BC,aAAcjC,EAAK+B,MAAMG,OACzBC,SAAUnC,EAAKoC,MAAMC,gBACrBC,cAAetC,EAAKoC,MAAMG,SAE5B,CACEnB,QAASK,gBAGZnC,MAAMgC,GACEA,EAAS/B,OAEjBgC,OAAOC,GACCA,EAAOF,SAAS/B","file":"static/js/23.185a4878.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {\n  CBadge,\n  CButton,\n  CCard,\n  CCardBody,\n  CCardImage,\n  CCardText,\n  CCardTitle,\n  CCol,\n  CContainer,\n  CRow,\n} from '@coreui/react'\n\nimport { useHistory } from 'react-router-dom'\nimport Loader from '../../../components/Loader'\nimport { getAdminPackages } from '../../../api/api_package'\nimport { useTranslation } from 'react-i18next'\n\nconst PackageList = () => {\n  const { t } = useTranslation()\n  const history = useHistory()\n  const [packages, setPackages] = useState([])\n  const [hasLoaded, setHasLoaded] = useState()\n\n  useEffect(() => {\n    getAdminPackages().then((data) => {\n      if (data.ok === true) {\n        console.log(data)\n        setPackages(data.data)\n        setHasLoaded(true)\n      }\n    })\n  }, [])\n\n  return hasLoaded ? (\n    <CContainer>\n      <CRow className=\"align-items-center\">\n        <CCol className={'d-flex justify-content-end'}>\n          <CButton color=\"primary\" onClick={() => history.push('/packages/create')}>\n            {t('add_new')}\n          </CButton>\n        </CCol>\n      </CRow>\n\n      <CRow className=\"mt-5 justify-content-start\">\n        {packages?.map((pack, index) => {\n          return (\n            <CCol key={index} xxl={3} md={5} className=\"mb-4\">\n              <CCard\n                style={{ width: '18rem', height: '100%', cursor: 'pointer' }}\n                onClick={() => {\n                  history.push('/packages/' + pack.id)\n                }}\n              >\n                <CCardImage\n                  orientation=\"top\"\n                  src={'https://via.placeholder.com/550x390.png?text=' + pack.name}\n                />\n                <CCardBody className=\"text-center\">\n                  <CCardTitle>{pack.name}</CCardTitle>\n                  <CCardText>{pack.description}</CCardText>\n                  {pack.active ? (\n                    <CBadge color=\"success\" shape=\"rounded-pill\">\n                      {t('active')}\n                    </CBadge>\n                  ) : (\n                    <CBadge color=\"dark\" shape=\"rounded-pill\">\n                      {t('inactive')}\n                    </CBadge>\n                  )}\n                </CCardBody>\n              </CCard>\n            </CCol>\n          )\n        })}\n      </CRow>\n    </CContainer>\n  ) : (\n    Loader()\n  )\n}\n\nexport default PackageList\n","import axios from 'axios'\nimport { apiHeader, authHeader } from './requestHeaders'\n\nconst API_URL = 'https://api.ekoop.id/v01'\n\nexport function getPackages() {\n  return axios\n    .get(API_URL + '/users/packages', { headers: apiHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function getAdminPackages() {\n  return axios\n    .get(API_URL + '/users/admin/packages', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function getPackage(id) {\n  return axios\n    .get(API_URL + '/users/admin/packages/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function updatePackage(id, pack) {\n  return axios\n    .put(\n      API_URL + '/users/admin/packages/' + id,\n      {\n        name: pack.name,\n        slug: pack.slug,\n        description: pack.description,\n        price_monthly: pack.price.monthly,\n        price_yearly: pack.price.yearly,\n        quota_AO: pack.quota.account_officer,\n        quota_nasabah: pack.quota.nasabah,\n        active: pack.active === 'true',\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function createPackage(pack) {\n  return axios\n    .post(\n      API_URL + '/users/admin/packages',\n      {\n        name: pack.name,\n        slug: pack.slug,\n        description: pack.description,\n        price_monthly: pack.price.monthly,\n        price_yearly: pack.price.yearly,\n        quota_AO: pack.quota.account_officer,\n        quota_nasabah: pack.quota.nasabah,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n"],"sourceRoot":""}