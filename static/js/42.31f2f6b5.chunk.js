(this.webpackJsonpekoop=this.webpackJsonpekoop||[]).push([[42],{1549:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a(60),r=a(372),i=a(469);const c=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='286.903 256 416 177.877 416 141.115 415.717 140.646 272 227.617 272 72 240 72 240 227.617 96.283 140.646 96 141.115 96 177.877 225.097 256 96 334.123 96 370.885 96.283 371.354 240 284.383 240 440 272 440 272 284.383 415.717 371.354 416 370.885 416 334.123 286.903 256' class='ci-primary'/>"];var o=a(122),d=a(370),u=a(12),l=a(41),j=a(378),p=a(445),h=a(8);var b=t=>{const{t:e}=Object(p.a)(),[a,r]=Object(n.useState)(""),[i,c]=Object(n.useState)("");let b=Object(u.g)();const{userDispatch:m}=Object(n.useContext)(l.a),[f,O]=Object(n.useState)(!1);return Object(h.jsxs)(s.v,{noValidate:!0,validated:f,children:[Object(h.jsx)("h2",{children:e("reset_password")}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)(s.z,{htmlFor:"new_pass",children:e("new_password")}),Object(h.jsx)(s.y,{type:"password",id:"new_pass",required:!0,onChange:t=>r(t.target.value)}),Object(h.jsx)(s.x,{invalid:!0,children:e("invalid_new_password")})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)(s.z,{htmlFor:"confirm_new_pass",children:e("confirm_new_password")}),Object(h.jsx)(s.y,{type:"password",id:"confirm_new_pass",required:!0,onChange:t=>c(t.target.value)}),Object(h.jsx)(s.x,{invalid:!0,children:e("invalid_confirm_new_password")})]}),Object(h.jsx)("div",{className:"d-flex justify-content-end",children:Object(h.jsx)(s.e,{color:"primary",onClick:n=>{!1===n.currentTarget.checkValidity()&&(n.preventDefault(),n.stopPropagation()),a===i?(O(!0),Object(j.f)(t.userId,t.token,a).then((t=>{o.store.addNotification(Object(d.b)(t.message)),m({type:"request_reset",temp_token:t.auth_id}),b.push("/input_otp")})).catch((t=>{let e=t.response.data;console.log(e),o.store.addNotification(Object(d.a)(e.message))}))):o.store.addNotification(Object(d.a)(e("notifications.check_confirm_field")))},children:e("save")})})]})};e.default=()=>{const{t:t}=Object(p.a)(),[e,a]=Object(n.useState)(""),[u,l]=Object(n.useState)(""),[m,f]=Object(n.useState)(!1),[O,_]=Object(n.useState)(""),[x,g]=Object(n.useState)(""),[v,w]=Object(n.useState)(!1);return Object(h.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:Object(h.jsx)(s.o,{children:Object(h.jsx)(s.V,{className:"justify-content-center",children:Object(h.jsx)(s.n,{md:5,children:Object(h.jsx)(s.h,{className:"p-4",children:Object(h.jsx)(s.i,{children:m?Object(h.jsx)(b,{userId:O,token:x}):Object(h.jsxs)(s.v,{noValidate:!0,validated:v,onSubmit:function(t){t.preventDefault();const a=t.currentTarget;!1===a.checkValidity()&&(t.preventDefault(),t.stopPropagation()),w(!0),a.checkValidity()&&Object(j.c)(e,u).then((t=>{t.ok?(o.store.addNotification(Object(d.b)(t.message)),_(t.url_link.split("/")[5]),g(t.url_link.split("/")[6]),f(!0)):o.store.addNotification(Object(d.a)(t.message))}))},children:[Object(h.jsx)("h2",{children:t("reset_password")}),Object(h.jsx)("br",{}),Object(h.jsxs)(s.J,{className:"mb-3",children:[Object(h.jsx)(s.K,{children:Object(h.jsx)(r.a,{icon:i.a})}),Object(h.jsx)(s.y,{placeholder:t("whatsapp"),type:"tel",pattern:"^\\+62[0-9]{9,15}$",required:!0,value:e,onChange:t=>a(t.target.value)}),Object(h.jsx)(s.x,{invalid:!0,children:t("invalid_wa")})]}),Object(h.jsxs)(s.J,{className:"mb-4",children:[Object(h.jsx)(s.K,{children:Object(h.jsx)(r.a,{icon:c})}),Object(h.jsx)(s.y,{placeholder:t("ktp"),required:!0,pattern:"^[0-9]{16}$",value:u,onChange:t=>l(t.target.value)}),Object(h.jsx)(s.x,{invalid:!0,children:t("invalid_ktp")})]}),Object(h.jsx)(s.V,{children:Object(h.jsx)(s.n,{className:"d-flex justify-content-end",children:Object(h.jsx)(s.e,{color:"primary",className:"px-4",type:"submit",children:t("submit")})})})]})})})})})})})}},367:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return i}));var n=a(41);function s(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}function r(){if(Object(n.f)()){return{Authorization:"Bearer "+localStorage.getItem("token"),"Ekoop-Api-Key":"4a6e486c-3167-4112-97e7-5aa690042613","X-Request-Id":s()}}return{}}function i(){return{"Ekoop-Api-Key":"4a6e486c-3167-4112-97e7-5aa690042613","X-Request-Id":s()}}},370:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));var n=a(93);function s(t){return{title:n.a.t("success"),message:t,type:"success",insert:"bottom",container:"bottom-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3}}}function r(t){return{title:n.a.t("error"),message:t,type:"danger",insert:"bottom",container:"bottom-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3}}}function i(t){return{title:n.a.t("info"),message:t,type:"info",insert:"bottom",container:"bottom-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:5e3}}}},378:function(t,e,a){"use strict";a.d(e,"d",(function(){return c})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return l})),a.d(e,"f",(function(){return j})),a.d(e,"g",(function(){return p}));var n=a(368),s=a.n(n),r=a(367);const i="https://api.ekoop.id/v01";function c(t,e){return s.a.post(i+"/auth/auth/login/password",{wa_number:t,password:e},{headers:Object(r.a)()}).then((t=>t.data)).catch((t=>t.response.data))}function o(t,e){return s.a.post(i+"/auth/auth/login/otp",{auth_id:t,otp:e},{headers:Object(r.a)()}).then((t=>(t.data.access_token&&localStorage.setItem("token",t.data.access_token),t.data)))}function d(t,e){return s.a.post(i+"/auth/profile/change_password",{old_password:t,new_password:e},{headers:Object(r.b)()}).then((t=>(console.log(t.data),t.data)))}function u(t){return s.a.post(i+"/auth/profile/change_password/otp",{otp:t},{headers:Object(r.b)()}).then((t=>(console.log(t),t.data)))}function l(t,e){return s.a.post(i+"/auth/auth/forgot_password",{wa_number:t,ktp_id:e},{headers:Object(r.a)()}).then((t=>t.data)).catch((t=>t.response.data))}function j(t,e,a){return console.log(t),s.a.post(i+"/auth/auth/reset_password",{user_id:t,token:e,new_password:a},{headers:Object(r.a)()}).then((t=>t.data)).catch((t=>t.response.data))}function p(t,e){return s.a.post(i+"/auth/auth/reset_password_otp",{auth_id:t,otp:e},{headers:Object(r.a)()}).then((t=>t.data)).catch((t=>t.response.data))}},469:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));const n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M449.366,89.648l-.685-.428L362.088,46.559,268.625,171.176l43,57.337a88.529,88.529,0,0,1-83.115,83.114l-57.336-43L46.558,362.088l42.306,85.869.356.725.429.684a25.085,25.085,0,0,0,21.393,11.857h22.344A327.836,327.836,0,0,0,461.222,133.386V111.041A25.084,25.084,0,0,0,449.366,89.648Zm-20.144,43.738c0,163.125-132.712,295.837-295.836,295.837h-18.08L87,371.76l84.18-63.135,46.867,35.149h5.333a120.535,120.535,0,0,0,120.4-120.4v-5.333l-35.149-46.866L371.759,87l57.463,28.311Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=42.31f2f6b5.chunk.js.map