{"version":3,"sources":["views/products/products_savings_create/ProductsSavingsCreate.js","helpers/api_requests.js"],"names":["ProductSavingsCreate","history","useHistory","product","setProduct","useState","tipe","name","description","balance_start","percent_rate","rate_type","limit_min","limit_max","tryParseInt","text","parsed","parseInt","isNaN","className","htmlFor","id","value","onChange","e","target","type","rows","xs","color","onClick","console","log","createProduct","then","data","ok","store","addNotification","success","push","danger","message","API_URL","getUsers","searchQuery","status","role","sort","axios","get","headers","authHeader","response","catch","reason","getUser","updateUser","user","put","wa_number","address","createUser","post","getClient","updateClient","clientId","client","getClients","getProducts","updateProduct","changes","active","credit_simulation_id","getServices","getNasabah","nasabah_list","getNasabahCount","getAccountOfficerCount"],"mappings":"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","file":"static/js/12.021c25f9.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport {\n  CButton,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CFormSelect,\n  CFormTextarea,\n  CRow,\n} from '@coreui/react'\nimport { createProduct } from '../../../helpers/api_requests'\nimport { store } from 'react-notifications-component'\nimport { danger, success } from '../../../helpers/notifications'\nimport { useHistory } from 'react-router-dom'\n\nconst ProductSavingsCreate = () => {\n  const history = useHistory()\n  const [product, setProduct] = useState({\n    tipe: 'savings',\n    name: '',\n    description: '',\n    balance_start: 0,\n    percent_rate: 0,\n    rate_type: 'fix',\n    limit_min: 0,\n    limit_max: 0,\n  })\n\n  function handleSave() {\n    console.log(product)\n    createProduct(product).then((data) => {\n      if (data.ok) {\n        store.addNotification(success('Product created'))\n        history.push('/products/savings')\n      } else {\n        store.addNotification(danger(data.message))\n      }\n    })\n  }\n\n  function tryParseInt(text) {\n    const parsed = parseInt(text)\n    if (isNaN(parsed)) {\n      return ''\n    }\n    return parsed\n  }\n\n  return (\n    <CContainer className=\"d-flex justify-content-center\">\n      <CForm>\n        <CRow>\n          <CCol>\n            <div className=\"mb-2\">\n              <CFormLabel htmlFor=\"type\">Type of Product</CFormLabel>\n              <CFormSelect\n                id=\"type\"\n                value={product.tipe}\n                onChange={(e) => {\n                  setProduct((product) => ({ ...product, tipe: e.target.value }))\n                }}\n              >\n                <option value=\"savings\">Savings</option>\n                <option value=\"credits\">Credits</option>\n              </CFormSelect>\n            </div>\n\n            <div className=\"mb-2\">\n              <CFormLabel htmlFor=\"name\">Products Name</CFormLabel>\n              <CFormInput\n                type=\"text\"\n                id=\"name\"\n                value={product.name}\n                onChange={(e) => {\n                  setProduct((product) => ({ ...product, name: e.target.value }))\n                }}\n              />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"description\">Description</CFormLabel>\n              <CFormTextarea\n                type=\"text\"\n                id=\"description\"\n                rows=\"3\"\n                value={product.description}\n                onChange={(e) => {\n                  setProduct((product) => ({ ...product, description: e.target.value }))\n                }}\n              />\n            </div>\n\n            <h5>Balance</h5>\n            <div className=\"ms-4 mb-2\">\n              <CFormLabel htmlFor=\"start\">Start</CFormLabel>\n              <CFormInput\n                type=\"number\"\n                id=\"start\"\n                value={product.balance_start}\n                onChange={(e) => {\n                  setProduct((product) => ({\n                    ...product,\n                    balance_start: tryParseInt(e.target.value),\n                  }))\n                }}\n              />\n            </div>\n\n            <h5>Rate</h5>\n            <CRow className=\"ms-3 mb-3\">\n              <CCol xs={4}>\n                <CFormLabel htmlFor=\"percent_rate\">Percentage</CFormLabel>\n                <CFormInput\n                  type=\"number\"\n                  id=\"percent_rate\"\n                  value={product.percent_rate}\n                  onChange={(e) => {\n                    setProduct((product) => ({\n                      ...product,\n                      percent_rate: tryParseInt(e.target.value),\n                    }))\n                  }}\n                />\n              </CCol>\n              <CCol>\n                <CFormLabel htmlFor=\"rate_type\">Type</CFormLabel>\n                <CFormSelect\n                  id=\"rate_type\"\n                  value={product.rate_type}\n                  onChange={(e) => {\n                    setProduct((product) => ({ ...product, rate_type: e.target.value }))\n                  }}\n                >\n                  <option value=\"fix\">Fix</option>\n                  <option value=\"efektif\">Efektif</option>\n                  <option value=\"syaria\">Syaria</option>\n                </CFormSelect>\n              </CCol>\n            </CRow>\n\n            <h5>Requirements</h5>\n            <CRow className=\"mb-3 ms-3\">\n              <CCol>\n                <CFormLabel htmlFor=\"limit_min\">Limit Min</CFormLabel>\n                <CFormInput\n                  type=\"number\"\n                  id=\"limit_min\"\n                  value={product.limit_min}\n                  onChange={(e) => {\n                    setProduct((product) => ({\n                      ...product,\n                      limit_min: tryParseInt(e.target.value),\n                    }))\n                  }}\n                />\n              </CCol>\n              <CCol>\n                <CFormLabel htmlFor=\"limit_max\">Limit Max</CFormLabel>\n                <CFormInput\n                  type=\"number\"\n                  id=\"limit_max\"\n                  value={product.limit_max}\n                  onChange={(e) => {\n                    setProduct((product) => ({\n                      ...product,\n                      limit_max: tryParseInt(e.target.value),\n                    }))\n                  }}\n                />\n              </CCol>\n            </CRow>\n          </CCol>\n        </CRow>\n        <CRow>\n          <CCol className=\"d-flex justify-content-center mt-3\">\n            <CButton color=\"primary\" onClick={handleSave}>\n              Save\n            </CButton>\n          </CCol>\n        </CRow>\n      </CForm>\n    </CContainer>\n  )\n}\n\nexport default ProductSavingsCreate\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\n\nconst API_URL = 'https://api.ekoop.id/v01'\n\nexport function getUsers(searchQuery, status, role, sort) {\n  return axios\n    .get(\n      API_URL +\n        '/auth/user?search=' +\n        searchQuery +\n        '&status=' +\n        status +\n        '&role=' +\n        role +\n        '&sort=' +\n        sort,\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getUser(id) {\n  return axios\n    .get(API_URL + '/auth/user/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateUser(user) {\n  return axios\n    .put(\n      API_URL + '/auth/user/' + user.id,\n      {\n        wa_number: user.wa_number,\n        name: user.name,\n        address: user.address,\n        role: user.role,\n        status: user.status,\n        // avatar: user.avatar,\n        // ktp_image: user.ktp_image,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function createUser(user) {\n  return axios\n    .post(API_URL + '/auth/user', user, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClient(id) {\n  return axios\n    .get(API_URL + '/users/admin/client/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateClient(clientId, client) {\n  return axios\n    .put(API_URL + '/users/admin/client/' + clientId, client, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClients(searchQuery, status, sort) {\n  return axios\n    .get(\n      API_URL + '/users/admin/client?search=' + searchQuery + '&status=' + status + '&sort=' + sort,\n      { headers: authHeader() },\n    )\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getProducts(searchQuery, type) {\n  return axios\n    .get(API_URL + '/transaction/products?search=' + searchQuery + '&tipe=' + type, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function createProduct(product) {\n  return axios\n    .post(API_URL + '/transaction/products', product, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n\nexport function updateProduct(product) {\n  const changes = {\n    name: product.name,\n    description: product.description,\n    balance_start: product.balance_start,\n    percent_rate: product.percent_rate,\n    limit_min: product.limit_min,\n    limit_max: product.limit_max,\n    active: product.active,\n    rate_type: product.rate_type,\n  }\n\n  return axios\n    .put(API_URL + '/transaction/products/' + product.credit_simulation_id, changes, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getServices() {\n  return axios\n    .get(API_URL + '/transaction/services', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function getNasabah(searchQuery, status, sort) {\n  return axios\n    .get(\n      API_URL + '/nasabah/nasabah?search=' + searchQuery + '&status=' + status + '&sort=' + sort,\n      { headers: authHeader() },\n    )\n    .then((response) => {\n      return response.data.nasabah_list\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getNasabahCount() {\n  return axios\n    .get(API_URL + '/auth/stat/nasabah/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getAccountOfficerCount() {\n  return axios\n    .get(API_URL + '/auth/stat/account_officer/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getClientCount() {\n  return axios\n    .get(API_URL + '/auth/stat/clients/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n"],"sourceRoot":""}