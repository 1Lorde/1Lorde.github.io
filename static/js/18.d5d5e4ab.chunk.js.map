{"version":3,"sources":["views/support/tickets_list/TicketsList.js","../node_modules/@coreui/icons/js/free/cil-sad.js","components/Table.js","api/api_ticket.js"],"names":["TicketsList","t","useTranslation","history","useHistory","userState","useContext","UserContext","hasLoaded","setHasLoaded","useState","tickets","setTickets","searchQuery","setSearchQuery","pageCount","setPageCount","fetchIdRef","useRef","getStatusBadge","status","className","color","shape","fetchData","useCallback","skip","current","getTickets","then","data","console","log","pages","Math","floor","pagination","total","limit","map","item","id","uid","title","subject","action","size","onClick","push","Roles","includes","user","role","createUser","getKoperasiOwnerIdFromToken","company","contact","wa_number","dir_name","store","addNotification","info","setTimeout","window","location","reload","name","columns","React","useMemo","Header","accessor","htmlFor","type","placeholder","onChange","e","target","value","controlledPageCount","cilSad","Table","getTableProps","getTableBodyProps","headerGroups","prepareRow","page","canPreviousPage","canNextPage","pageOptions","gotoPage","nextPage","previousPage","state","pageIndex","useTable","initialState","pageSize","manualPagination","usePagination","useEffect","length","hover","responsive","style","minWidth","headerGroup","index","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","min","max","defaultValue","Number","width","align","disabled","pointerEvents","icon","API_URL","process","axios","get","authHeader","response","catch","reason","getTicket","closeTicket","put","createTicket","ticket","post","description","priority","createComment","ticketId","comment","ticket_id","text","userId","fullname","ekoop_user_id","username","replace","password","email"],"mappings":"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","file":"static/js/18.d5d5e4ab.chunk.js","sourcesContent":["import React, { useCallback, useContext, useRef, useState } from 'react'\nimport {\n  CBadge,\n  CButton,\n  CCard,\n  CCardBody,\n  CCol,\n  CContainer,\n  CFormInput,\n  CFormLabel,\n  CRow,\n} from '@coreui/react'\nimport { useHistory } from 'react-router-dom'\nimport { createUser, getTickets } from '../../../api/api_ticket'\nimport { Table } from '../../../components/Table'\nimport { getKoperasiOwnerIdFromToken, UserContext } from '../../../helpers/user'\nimport { Roles } from '../../../helpers/role'\nimport { store } from 'react-notifications-component'\nimport { info } from '../../../helpers/notifications'\nimport { useTranslation } from 'react-i18next'\n\nconst TicketsList = () => {\n  const { t } = useTranslation()\n  const history = useHistory()\n  const { userState } = useContext(UserContext)\n  const [hasLoaded, setHasLoaded] = useState(false)\n  const [tickets, setTickets] = useState([])\n  const [searchQuery, setSearchQuery] = useState('')\n  const [pageCount, setPageCount] = useState(1)\n  const fetchIdRef = useRef(0)\n\n  function getStatusBadge(status) {\n    switch (status) {\n      case 0:\n        return (\n          <CBadge className=\"mt-1\" color=\"success\" shape=\"rounded-pill\">\n            {t('new')}\n          </CBadge>\n        )\n      case 1:\n        return (\n          <CBadge className=\"mt-1\" color=\"danger\" shape=\"rounded-pill\">\n            {t('open')}\n          </CBadge>\n        )\n      case 2:\n        return (\n          <CBadge className=\"mt-1\" color=\"info\" shape=\"rounded-pill\">\n            {t('pending')}\n          </CBadge>\n        )\n      case 3:\n        return (\n          <CBadge className=\"mt-1\" color=\"secondary\" shape=\"rounded-pill\">\n            {t('closed')}\n          </CBadge>\n        )\n      default:\n        return (\n          <CBadge className=\"mt-1\" color=\"dark\" shape=\"rounded-pill\">\n            {t('unknown')}\n          </CBadge>\n        )\n    }\n  }\n\n  const fetchData = useCallback(\n    ({ skip }) => {\n      const fetchId = ++fetchIdRef.current\n      if (fetchId === fetchIdRef.current) {\n        setHasLoaded(false)\n        getTickets(skip, searchQuery).then((data) => {\n          console.log(data)\n          if (data) {\n            let pages = Math.floor(data.pagination.total / data.pagination.limit)\n            if (data.pagination.total / data.pagination.limit > pageCount) {\n              pages += 1\n            }\n            setPageCount(pages)\n            setTickets(\n              data.data?.map((item) => {\n                return {\n                  id: item.uid,\n                  title: item.subject,\n                  status: getStatusBadge(item.status),\n                  action: (\n                    <CButton\n                      color=\"dark\"\n                      size={'sm'}\n                      onClick={() => history.push('/support/tickets/' + item.uid)}\n                    >\n                      {t('view')}\n                    </CButton>\n                  ),\n                }\n              }),\n            )\n          } else {\n            if (\n              ![Roles['credit-analyst'], Roles['account-officer']].includes(\n                Roles[userState.user.role],\n              )\n            ) {\n              createUser(userState.user.id, userState.user.wa_number, userState.user.name).then(\n                (data) => {\n                  console.log(data)\n                  store.addNotification(info(t('notifications.truedesk_account_created')))\n                  setTimeout(function () {\n                    window.location.reload()\n                  }, 3000)\n                },\n              )\n            } else {\n              createUser(\n                getKoperasiOwnerIdFromToken(),\n                userState.company.contact.wa_number,\n                userState.company.contact.dir_name,\n              ).then((data) => {\n                console.log(data)\n                store.addNotification(info(t('notifications.truedesk_account_created')))\n                setTimeout(function () {\n                  window.location.reload()\n                }, 3000)\n              })\n            }\n          }\n          setHasLoaded(true)\n        })\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [history, searchQuery],\n  )\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: t('ticket_id'),\n        accessor: 'id',\n      },\n      {\n        Header: t('title'),\n        accessor: 'title',\n      },\n      {\n        Header: t('status'),\n        accessor: 'status',\n      },\n      {\n        Header: t('action'),\n        accessor: 'action',\n      },\n    ],\n    [t],\n  )\n\n  return (\n    <CContainer>\n      <CRow className=\"align-items-center\">\n        <CCol>\n          <CFormLabel htmlFor=\"searchInput\">{t('search')}</CFormLabel>\n          <CFormInput\n            type=\"text\"\n            id=\"searchInput\"\n            placeholder={t('enter_search_query')}\n            onChange={(e) => {\n              setSearchQuery(e.target.value)\n            }}\n          />\n        </CCol>\n        <CCol className={'d-flex justify-content-end'}>\n          <CButton color=\"primary\" onClick={() => history.push('/support/tickets/new')}>\n            {t('create')}\n          </CButton>\n        </CCol>\n      </CRow>\n      <br />\n      <CRow>\n        <CCard>\n          <CCardBody>\n            <Table\n              columns={columns}\n              data={tickets}\n              controlledPageCount={pageCount}\n              fetchData={fetchData}\n              hasLoaded={hasLoaded}\n            />\n          </CCardBody>\n        </CCard>\n      </CRow>\n    </CContainer>\n  )\n}\n\nexport default TicketsList\n","export const cilSad = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M256,16C123.452,16,16,123.452,16,256S123.452,496,256,496,496,388.548,496,256,388.548,16,256,16ZM403.078,403.078a207.253,207.253,0,1,1,44.589-66.125A207.332,207.332,0,0,1,403.078,403.078Z' class='ci-primary'/><rect width='40' height='40' x='152' y='200' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='40' height='40' x='320' y='200' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,288a88.1,88.1,0,0,0-88,88h32a56,56,0,0,1,112,0h32A88.1,88.1,0,0,0,256,288Z' class='ci-primary'/>\"]","import { usePagination, useTable } from 'react-table'\nimport {\n  CCol,\n  CContainer,\n  CFormInput,\n  CHeaderText,\n  CPagination,\n  CPaginationItem,\n  CSpinner,\n  CTable,\n  CTableBody,\n  CTableDataCell,\n  CTableHead,\n  CTableHeaderCell,\n  CTableRow,\n} from '@coreui/react'\nimport React, { useEffect } from 'react'\nimport CIcon from '@coreui/icons-react'\nimport { cilSad } from '@coreui/icons'\nimport { useTranslation } from 'react-i18next'\n\n// eslint-disable-next-line react/prop-types\nexport function Table({ columns, data, controlledPageCount, fetchData, hasLoaded }) {\n  const { t } = useTranslation()\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    prepareRow,\n    page,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    gotoPage,\n    nextPage,\n    previousPage,\n    state: { pageIndex },\n  } = useTable(\n    {\n      columns,\n      data,\n      initialState: {\n        pageIndex: 0,\n        pageSize: 10,\n      },\n      manualPagination: true,\n      pageCount: controlledPageCount,\n    },\n    usePagination,\n  )\n\n  useEffect(() => {\n    const skip = pageIndex * 10\n    fetchData && fetchData({ skip })\n  }, [fetchData, pageIndex])\n  return hasLoaded ? (\n    page.length > 0 ? (\n      <>\n        <CTable hover responsive style={{ minWidth: '45rem' }} {...getTableProps()}>\n          <CTableHead>\n            {headerGroups.map((headerGroup, index) => (\n              <CTableRow key={index} {...headerGroup.getHeaderGroupProps()}>\n                {headerGroup.headers.map((column, index) => (\n                  <CTableHeaderCell key={index} {...column.getHeaderProps()}>\n                    {column.render('Header')}\n                  </CTableHeaderCell>\n                ))}\n              </CTableRow>\n            ))}\n          </CTableHead>\n          <CTableBody {...getTableBodyProps()}>\n            {page.map((row, index) => {\n              prepareRow(row)\n              return (\n                <CTableRow key={index} {...row.getRowProps()}>\n                  {row.cells.map((cell, index) => {\n                    return (\n                      <CTableDataCell key={index} {...cell.getCellProps()}>\n                        {cell.render('Cell')}\n                      </CTableDataCell>\n                    )\n                  })}\n                </CTableRow>\n              )\n            })}\n          </CTableBody>\n        </CTable>\n\n        <CContainer className={'d-flex justify-content-end align-items-center'}>\n          <CHeaderText className={'pe-2'}>{t('go_to_page') + ':'}</CHeaderText>\n          <CFormInput\n            min={1}\n            max={controlledPageCount}\n            type=\"number\"\n            defaultValue={pageIndex + 1}\n            onChange={(e) => {\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\n              gotoPage(page)\n            }}\n            style={{ width: '100px' }}\n          />\n        </CContainer>\n\n        <CPagination align=\"center\" aria-label=\"Page navigation\">\n          <CPaginationItem\n            aria-label=\"First\"\n            onClick={() => gotoPage(0)}\n            disabled={!canPreviousPage}\n          >\n            {'<<'}\n          </CPaginationItem>\n          <CPaginationItem\n            aria-label=\"Previous\"\n            onClick={() => previousPage()}\n            disabled={!canPreviousPage}\n          >\n            {'<'}\n          </CPaginationItem>\n          <CPaginationItem aria-label=\"Current\" style={{ pointerEvents: 'none' }}>\n            {t('page')} <strong>{pageIndex + 1}</strong> of <strong>{pageOptions.length}</strong>\n          </CPaginationItem>\n          <CPaginationItem aria-label=\"Next\" onClick={() => nextPage()} disabled={!canNextPage}>\n            {'>'}\n          </CPaginationItem>\n          <CPaginationItem\n            aria-label=\"Last\"\n            onClick={() => gotoPage(controlledPageCount - 1)}\n            disabled={!canNextPage}\n          >\n            {'>>'}\n          </CPaginationItem>\n        </CPagination>\n      </>\n    ) : (\n      <CCol className=\"d-flex justify-content-center\">\n        <CHeaderText>\n          {t('nothing_there')} <CIcon icon={cilSad} />{' '}\n        </CHeaderText>\n      </CCol>\n    )\n  ) : (\n    <CCol className=\"d-flex justify-content-center\">\n      <CSpinner color=\"primary\" />\n    </CCol>\n  )\n}\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\n\nconst API_URL = process.env.REACT_APP_API_URL\n\nexport function getTickets(skip, searchQuery) {\n  return axios\n    .get(API_URL + '/tiket/tickets?skip=' + skip + '&search=' + searchQuery, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 404) {\n        console.log('Tickets not found')\n      } else {\n        console.log(reason)\n      }\n    })\n}\n\nexport function getTicket(uid) {\n  return axios\n    .get(API_URL + '/tiket/tickets/' + uid, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function closeTicket(id) {\n  return axios\n    .put(\n      API_URL + '/tiket/tickets/' + id,\n      { status: 3 },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function createTicket(ticket) {\n  return axios\n    .post(\n      API_URL + '/tiket/tickets',\n      {\n        subject: ticket.title,\n        description: ticket.description,\n        type: 'Issue',\n        priority: 'Normal',\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n\nexport function createComment(ticketId, comment) {\n  return axios\n    .post(\n      API_URL + '/tiket/tickets/comment',\n      {\n        ticket_id: ticketId,\n        text: comment,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n\nexport function createUser(userId, wa_number, fullname) {\n  return axios\n    .post(\n      API_URL + '/tiket/users',\n      {\n        ekoop_user_id: userId,\n        username: wa_number.replace('+', ''),\n        password: wa_number.replace('+', '') + '123!',\n        email: wa_number.replace('+', '') + '@example.com',\n        fullname: fullname,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n"],"sourceRoot":""}