(this.webpackJsonpekoop=this.webpackJsonpekoop||[]).push([[21],{1521:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(60),o=a(41),r=a(122),c=a(370),d=a(12),i=a(378),u=a(445),p=a(8);t.default=()=>{const{t:e}=Object(u.a)(),[t,a]=Object(s.useState)(""),[h,l]=Object(s.useState)(""),[j,b]=Object(s.useState)("");let _=Object(d.g)();const{userState:f,userDispatch:O}=Object(s.useContext)(o.a),[w,m]=Object(s.useState)(!1);return Object(p.jsx)(n.o,{className:"d-flex justify-content-center",children:Object(p.jsx)(n.h,{style:{width:"35rem"},children:Object(p.jsx)(n.i,{children:Object(p.jsxs)(n.v,{noValidate:!0,validated:w,onSubmit:a=>{a.preventDefault();const s=a.currentTarget;!1===s.checkValidity()&&a.stopPropagation(),h===j?(m(!0),s.checkValidity()&&Object(i.a)(t,h).then((e=>{r.store.addNotification(Object(c.b)(e.message)),O({type:"request_otp",user:f.user,company:f.company}),_.push("/input_otp")})).catch((e=>{let t=e.response.data;console.log(t),r.store.addNotification(Object(c.a)(t.message))}))):r.store.addNotification(Object(c.a)(e("notifications.check_confirm_field")))},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)(n.z,{htmlFor:"old_pass",children:e("old_password")}),Object(p.jsx)(n.y,{type:"password",id:"old_pass",required:!0,onChange:e=>a(e.target.value)}),Object(p.jsx)(n.x,{invalid:!0,children:e("invalid_old_password")})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)(n.z,{htmlFor:"new_pass",children:e("new_password")}),Object(p.jsx)(n.y,{type:"password",pattern:"^.{6,}$",id:"new_pass",required:!0,onChange:e=>l(e.target.value)}),Object(p.jsx)(n.x,{invalid:!0,children:e("invalid_new_password")})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)(n.z,{htmlFor:"confirm_new_pass",children:e("confirm_new_password")}),Object(p.jsx)(n.y,{type:"password",pattern:"^.{6,}$",id:"confirm_new_pass",required:!0,onChange:e=>b(e.target.value)}),Object(p.jsx)(n.x,{invalid:!0,children:e("invalid_confirm_new_password")})]}),Object(p.jsx)("div",{className:"d-flex justify-content-end",children:Object(p.jsx)(n.e,{color:"primary",type:"submit",children:e("save")})})]})})})})}},378:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return l}));var s=a(368),n=a.n(s),o=a(367);const r="https://api.ekoop.id/v01";function c(e,t){return n.a.post(r+"/auth/auth/login/password",{wa_number:e,password:t},{headers:Object(o.a)()}).then((e=>e.data)).catch((e=>e.response.data))}function d(e,t){return n.a.post(r+"/auth/auth/login/otp",{auth_id:e,otp:t},{headers:Object(o.a)()}).then((e=>(e.data.access_token&&localStorage.setItem("token",e.data.access_token),e.data)))}function i(e,t){return n.a.post(r+"/auth/profile/change_password",{old_password:e,new_password:t},{headers:Object(o.b)()}).then((e=>(console.log(e.data),e.data)))}function u(e){return n.a.post(r+"/auth/profile/change_password/otp",{otp:e},{headers:Object(o.b)()}).then((e=>(console.log(e),e.data)))}function p(e,t){return n.a.post(r+"/auth/auth/forgot_password",{wa_number:e,ktp_id:t},{headers:Object(o.a)()}).then((e=>e.data)).catch((e=>e.response.data))}function h(e,t,a){return console.log(e),n.a.post(r+"/auth/auth/reset_password",{user_id:e,token:t,new_password:a},{headers:Object(o.a)()}).then((e=>e.data)).catch((e=>e.response.data))}function l(e,t){return n.a.post(r+"/auth/auth/reset_password_otp",{auth_id:e,otp:t},{headers:Object(o.a)()}).then((e=>e.data)).catch((e=>e.response.data))}}}]);
//# sourceMappingURL=21.0135aae9.chunk.js.map