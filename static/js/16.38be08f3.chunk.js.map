{"version":3,"sources":["views/my_company/MyCompany.js","api/api_client.js","views/pages/page404/Page404.js"],"names":["MyCompany","t","useTranslation","userState","useContext","UserContext","company","setCompany","useState","className","htmlFor","type","id","placeholder","defaultValue","onChange","e","target","value","address","documents","NPWP","no","SIUP","TDP","fluid","rounded","src","width","height","package","name","disabled","status","contact","dir_name","ktp_id","wa_number","color","onClick","updateProfileCompany","then","data","ok","store","addNotification","success","console","log","Page404","API_URL","process","getClient","axios","get","headers","authHeader","response","catch","reason","message","clientId","client","put","updateClient","contact_dir_name","registerClient","post","apiHeader","approveClient","rejectClient","getClients","skip","searchQuery","sort","md","variant","href"],"mappings":"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","file":"static/js/16.38be08f3.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react'\nimport {\n  CButton,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CImage,\n  CRow,\n} from '@coreui/react'\nimport { UserContext } from '../../helpers/user'\nimport { store } from 'react-notifications-component'\nimport { success } from '../../helpers/notifications'\nimport { updateProfileCompany } from '../../api/api_client'\nimport Page404 from '../pages/page404/Page404'\nimport { useTranslation } from 'react-i18next'\n\nconst MyCompany = () => {\n  const { t } = useTranslation()\n  const { userState } = useContext(UserContext)\n  const [company, setCompany] = useState({})\n\n  const handleEdit = () => {\n    updateProfileCompany(userState.company.id, company).then((data) => {\n      if (data.ok) {\n        store.addNotification(success(t('notifications.company_update')))\n      } else {\n        console.log(data)\n      }\n    })\n  }\n\n  return !!userState.company ? (\n    <CForm>\n      <CRow>\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"company_name\">{t('company_name')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"company_name\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.company}\n              onChange={(e) => {\n                setCompany((company) => ({ ...company, company: e.target.value }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"address\">{t('address')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"address\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.address}\n              onChange={(e) => {\n                setCompany((company) => ({ ...company, address: e.target.value }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"npwp\">{t('npwp')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"npwp\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.documents?.NPWP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    NPWP: {\n                      ...company.documents.NPWP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"siup\">{t('siup')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"siup\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.documents?.SIUP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    SIUP: {\n                      ...company.documents.SIUP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"tdp\">{t('tdp')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"tdp\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.documents?.TDP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    TDP: {\n                      ...company.documents.TDP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n        </CCol>\n        <CCol>\n          <CContainer fluid className=\"d-flex justify-content-center\">\n            <CImage\n              rounded\n              src={'https://via.placeholder.com/550x390.png?text=' + userState.company?.company}\n              width={550}\n              height={390}\n              className=\"mt-4\"\n            />\n          </CContainer>\n        </CCol>\n      </CRow>\n      <CRow className=\"mb-4 mt-3\">\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"website\">{t('website')}</CFormLabel>\n            <CFormInput type=\"text\" id=\"website\" placeholder={t('no_data')} />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"subscription\">{t('subscription_package')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"subscription\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.package?.name}\n              disabled\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"status\">{t('status')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"status\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.status}\n              disabled\n            />\n          </div>\n        </CCol>\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"director\">{t('director_name')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"director\"\n              defaultValue={userState.company?.contact?.dir_name}\n              disabled\n              placeholder={t('no_data')}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"ktp\">{t('ktp')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"ktp\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.contact?.ktp_id}\n              disabled\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"wa\">{t('whatsapp')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"wa\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.contact?.wa_number}\n              disabled\n            />\n          </div>\n        </CCol>\n      </CRow>\n      <CRow className=\"mb-3\">\n        <div className=\"d-flex justify-content-end\">\n          <CButton color=\"primary\" onClick={handleEdit}>\n            {t('edit')}\n          </CButton>\n        </div>\n      </CRow>\n    </CForm>\n  ) : (\n    Page404()\n  )\n}\n\nexport default MyCompany\n","import axios from 'axios'\nimport { apiHeader, authHeader } from './requestHeaders'\n\nconst API_URL = process.env.REACT_APP_API_URL\n\nexport function getClient(id) {\n  return axios\n    .get(API_URL + '/users/admin/client/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateProfileCompany(clientId, client) {\n  return axios\n    .put(\n      API_URL + '/users/admin/client/' + clientId,\n      {\n        company: client.company,\n        address: client.address,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function updateClient(clientId, client) {\n  return axios\n    .put(\n      API_URL + '/users/admin/client/' + clientId,\n      {\n        company: client.company,\n        contact_dir_name: client.contact.dir_name,\n        address: client.address,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function registerClient(client) {\n  return axios\n    .post(API_URL + '/users/clients/register', client, {\n      headers: apiHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function approveClient(clientId) {\n  const status = {\n    status: 'ACTIVE',\n  }\n  return axios\n    .put(API_URL + '/users/admin/client/status/' + clientId, status, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function rejectClient(clientId) {\n  const status = {\n    status: 'REJECT',\n  }\n  return axios\n    .put(API_URL + '/users/admin/client/status/' + clientId, status, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClients(skip, searchQuery, status, sort) {\n  if (sort === '') sort = 'created_at:desc'\n\n  return axios\n    .get(\n      API_URL +\n        '/users/admin/client?search=' +\n        searchQuery +\n        '&status=' +\n        status +\n        '&sort=' +\n        sort +\n        '&skip=' +\n        skip,\n      { headers: authHeader() },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n","import React from 'react'\nimport { CButton, CCol, CContainer, CRow } from '@coreui/react'\nimport { useTranslation } from 'react-i18next'\n\nconst Page404 = () => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md={6}>\n            <div className=\"clearfix\">\n              <h1 className=\"float-start display-2 me-4\">404</h1>\n              <h4 className=\"pt-3\">{t('404_title')}</h4>\n              <p className=\"text-medium-emphasis float-start\">{t('404_description')}</p>\n            </div>\n          </CCol>\n        </CRow>\n        <CRow className=\"mt-4\">\n          <CCol className=\"d-flex justify-content-center\">\n            <CButton color=\"primary\" variant=\"outline\" href=\"/#/login\">\n              {t('return')}\n            </CButton>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Page404\n"],"sourceRoot":""}