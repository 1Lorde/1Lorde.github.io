{"version":3,"sources":["views/products/products_savings/ProductsSavings.js","helpers/api_requests.js"],"names":["ProductsSavings","history","useHistory","products","setProducts","useState","hasLoaded","setHasLoaded","searchQuery","setSearchQuery","typeFilter","setTypeFilter","useEffect","getProducts","then","data","ok","className","xs","htmlFor","type","id","placeholder","onChange","e","target","value","color","onClick","push","map","product","index","xxl","md","style","width","height","cursor","pathname","state","orientation","src","name","description","active","shape","Loader","API_URL","getUsers","axios","get","headers","authHeader","response","catch","reason","status","console","log","message","getUser","updateUser","user","put","wa_number","address","role","createUser","post","getClient","updateClient","clientId","client","getClients","createProduct","updateProduct","changes","balance_start","percent_rate","limit_min","limit_max","rate_type","credit_simulation_id","getServices","getNasabah","nasabah_list","getNasabahCount","getAccountOfficerCount"],"mappings":"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","file":"static/js/10.756ce1cb.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {\n  CBadge,\n  CButton,\n  CCard,\n  CCardBody,\n  CCardImage,\n  CCardText,\n  CCardTitle,\n  CCol,\n  CContainer,\n  CFormInput,\n  CFormLabel,\n  CFormSelect,\n  CRow,\n} from '@coreui/react'\n\nimport { useHistory } from 'react-router-dom'\nimport { getProducts } from '../../../helpers/api_requests'\nimport Loader from '../../../components/Loader'\n\nconst ProductsSavings = () => {\n  const history = useHistory()\n  const [products, setProducts] = useState([])\n  const [hasLoaded, setHasLoaded] = useState()\n  const [searchQuery, setSearchQuery] = useState('')\n  const [typeFilter, setTypeFilter] = useState('')\n\n  useEffect(() => {\n    getProducts('', typeFilter).then((data) => {\n      if (data.ok === true) {\n        setProducts(data.products)\n        setHasLoaded(true)\n      }\n    })\n  }, [searchQuery, typeFilter])\n\n  return hasLoaded ? (\n    <CContainer>\n      <CRow className=\"align-items-end\">\n        <CCol xs={6}>\n          <CFormLabel htmlFor=\"search\">Search</CFormLabel>\n          <CFormInput\n            type=\"text\"\n            id=\"searchInput\"\n            placeholder=\"Enter search query..\"\n            onChange={(e) => {\n              setSearchQuery(e.target.value)\n            }}\n          />\n        </CCol>\n        <CCol>\n          <CFormLabel htmlFor=\"category\">Category</CFormLabel>\n          <CFormSelect\n            id=\"category\"\n            onChange={(e) => {\n              setTypeFilter(e.target.value)\n            }}\n          >\n            <option value=\"\">All</option>\n            <option value=\"savings\">Savings</option>\n            <option value=\"credits\">Credits</option>\n          </CFormSelect>\n        </CCol>\n        <CCol>\n          <CFormLabel htmlFor=\"sort\">Sort By</CFormLabel>\n          <CFormSelect id=\"sort\"></CFormSelect>\n        </CCol>\n        <CCol>\n          <CButton color=\"primary\" onClick={() => history.push('/products/savings/create')}>\n            Add New\n          </CButton>\n        </CCol>\n      </CRow>\n      <br />\n\n      <CRow className=\"justify-content-start\">\n        {products?.map((product, index) => {\n          return (\n            <CCol key={index} xxl={3} md={5} className=\"mb-4\">\n              <CCard\n                style={{ width: '18rem', height: '100%', cursor: 'pointer' }}\n                onClick={() => {\n                  history.push({ pathname: '/products/savings/details', state: product })\n                }}\n              >\n                <CCardImage\n                  orientation=\"top\"\n                  src={'https://via.placeholder.com/550x390.png?text=' + product.name}\n                />\n                <CCardBody className=\"text-center\">\n                  <CCardTitle>{product.name}</CCardTitle>\n                  <CCardText>{product.description}</CCardText>\n                  {product.active ? (\n                    <CBadge color=\"success\" shape=\"rounded-pill\">\n                      Active\n                    </CBadge>\n                  ) : (\n                    <CBadge color=\"dark\" shape=\"rounded-pill\">\n                      Inactive\n                    </CBadge>\n                  )}\n                </CCardBody>\n              </CCard>\n            </CCol>\n          )\n        })}\n      </CRow>\n    </CContainer>\n  ) : (\n    Loader()\n  )\n}\n\nexport default ProductsSavings\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\n\nconst API_URL = 'https://api.ekoop.id/v01'\n\nexport function getUsers(searchQuery) {\n  return axios\n    .get(API_URL + '/auth/user?search=' + searchQuery, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getUser(id) {\n  return axios\n    .get(API_URL + '/auth/user/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateUser(user) {\n  return axios\n    .put(\n      API_URL + '/auth/user/' + user.id,\n      {\n        wa_number: user.wa_number,\n        name: user.name,\n        address: user.address,\n        role: user.role,\n        status: user.status,\n        // avatar: user.avatar,\n        // ktp_image: user.ktp_image,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function createUser(user) {\n  return axios\n    .post(API_URL + '/auth/user', user, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClient(id) {\n  return axios\n    .get(API_URL + '/users/admin/client/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateClient(clientId, client) {\n  return axios\n    .put(API_URL + '/users/admin/client/' + clientId, client, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClients() {\n  return axios\n    .get(API_URL + '/users/admin/client', { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getProducts(searchQuery, type) {\n  return axios\n    .get(API_URL + '/transaction/products?search=' + searchQuery + '&tipe=' + type, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function createProduct(product) {\n  return axios\n    .post(API_URL + '/transaction/products', product, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n\nexport function updateProduct(product) {\n  const changes = {\n    name: product.name,\n    description: product.description,\n    balance_start: product.balance_start,\n    percent_rate: product.percent_rate,\n    limit_min: product.limit_min,\n    limit_max: product.limit_max,\n    active: product.active,\n    rate_type: product.rate_type,\n  }\n\n  return axios\n    .put(API_URL + '/transaction/products/' + product.credit_simulation_id, changes, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getServices() {\n  return axios\n    .get(API_URL + '/transaction/services', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function getNasabah() {\n  return axios\n    .get(API_URL + '/nasabah/nasabah', { headers: authHeader() })\n    .then((response) => {\n      return response.data.nasabah_list\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getNasabahCount() {\n  return axios\n    .get(API_URL + '/auth/stat/nasabah/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getAccountOfficerCount() {\n  return axios\n    .get(API_URL + '/auth/stat/account_officer/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getClientCount() {\n  return axios\n    .get(API_URL + '/auth/stat/clients/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n"],"sourceRoot":""}