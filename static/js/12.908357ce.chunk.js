(this.webpackJsonpekoop=this.webpackJsonpekoop||[]).push([[12],{1512:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(57),s=n(12),r=n(118),i=n(381),o=n(117),l=n(354),j=n(359),d=n(7);t.default=()=>{const e=Object(s.g)(),[t,n]=Object(c.useState)([]),[h,u]=Object(c.useState)(),[b,O]=Object(c.useState)({}),[p,x]=Object(c.useState)(!1),[m,g]=Object(c.useState)(""),[v,f]=Object(c.useState)(""),[y,k]=Object(c.useState)(""),[N,_]=Object(c.useState)("");return Object(c.useEffect)((()=>{console.log(N),Object(i.b)(m,v,y,N).then((e=>{!0===e.ok&&(console.log(e),n(e.services),h||Object(i.c)().then((e=>{!0===e.ok&&(console.log(e),O(e.service_margin),u(!0))})))}))}),[m,v,y,N]),h?Object(d.jsxs)(a.o,{children:[Object(d.jsxs)(a.X,{className:"align-items-center mb-4",children:[Object(d.jsxs)(a.n,{xl:4,children:[Object(d.jsx)(a.z,{htmlFor:"searchInput",children:"Search"}),Object(d.jsx)(a.y,{type:"text",id:"searchInput",placeholder:"Enter search query..",onChange:e=>{g(e.target.value)}})]}),Object(d.jsxs)(a.n,{children:[Object(d.jsx)(a.z,{htmlFor:"categoryInput",children:"Category"}),Object(d.jsxs)(a.A,{id:"categoryInput",onChange:e=>{f(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"All"}),Object(d.jsx)("option",{value:"postpaid",children:"Postpaid"}),Object(d.jsx)("option",{value:"prepaid",children:"Prepaid"})]})]}),Object(d.jsxs)(a.n,{children:[Object(d.jsx)(a.z,{htmlFor:"statusInput",children:"Status"}),Object(d.jsxs)(a.A,{id:"statusInput",onChange:e=>{k(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"All"}),Object(d.jsx)("option",{value:1,children:"Active"}),Object(d.jsx)("option",{value:0,children:"Inactive"})]})]}),Object(d.jsxs)(a.n,{children:[Object(d.jsx)(a.z,{htmlFor:"marginByInput",children:"Margin By"}),Object(d.jsxs)(a.A,{id:"marginByInput",onChange:e=>{_(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"All"}),Object(d.jsx)("option",{value:"fix_cost",children:"Fix Cost"}),Object(d.jsx)("option",{value:"percent",children:"Percent"})]})]})]}),Object(d.jsx)(a.v,{noValidate:!0,validated:p,onSubmit:e=>{e.preventDefault();const t=e.currentTarget;!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),x(!0),t.checkValidity()&&(console.log(b),Object(i.e)(b).then((e=>{e.ok?(console.log(e),o.store.addNotification(Object(l.c)("Service margin updated successfully."))):(console.log(e),o.store.addNotification(Object(l.a)(e.error)))})))},children:Object(d.jsxs)(a.X,{className:"align-items-center mb-5",children:[Object(d.jsxs)(a.n,{xl:3,children:[Object(d.jsx)(a.z,{htmlFor:"margin_by",children:"Margin By (for all)"}),Object(d.jsxs)(a.A,{id:"margin_by",defaultValue:b.margin_by,onChange:e=>{O((t=>({...t,margin_by:e.target.value})))},children:[Object(d.jsx)("option",{value:"fix_cost",children:"Fix Cost"}),Object(d.jsx)("option",{value:"percent",children:"Percent"})]})]}),Object(d.jsxs)(a.n,{xl:3,children:[Object(d.jsx)(a.z,{htmlFor:"nominal",children:"Nominal"}),Object(d.jsx)(a.y,{id:"nominal",type:"number",defaultValue:b.nominal,max:"percent"===b.margin_by?100:1e5,onChange:e=>{O((t=>({...t,nominal:Object(j.a)(e.target.value)})))}})]}),Object(d.jsx)(a.n,{xl:3,children:Object(d.jsx)(a.e,{className:"mt-4",size:"sm",type:"submit",children:"Update margin"})})]})}),Object(d.jsx)(a.X,{className:"justify-content-start",children:t.length>0?null===t||void 0===t?void 0:t.map(((t,n)=>Object(d.jsx)(a.n,{xxl:3,md:5,className:"mb-4",children:Object(d.jsxs)(a.h,{style:{width:"18rem",height:"100%",cursor:"pointer"},onClick:()=>{e.push("/products/ppob/"+t.id)},children:[Object(d.jsx)(a.k,{orientation:"top",src:"https://via.placeholder.com/550x390.png?text="+t.name}),Object(d.jsxs)(a.i,{className:"text-center",children:[Object(d.jsx)(a.m,{children:t.name}),Object(d.jsx)(a.l,{children:t.desc}),t.active?Object(d.jsx)(a.b,{color:"success",shape:"rounded-pill",children:"Active"}):Object(d.jsx)(a.b,{color:"dark",shape:"rounded-pill",children:"Inactive"})]})]})},n))):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsx)(a.G,{children:"No PPOB found"})})})})]}):Object(r.a)()}},359:function(e,t,n){"use strict";function c(e){const t=parseInt(e);return isNaN(t)?"":t}n.d(t,"a",(function(){return c}))},381:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return d}));var c=n(353),a=n.n(c),s=n(352);const r="https://api.ekoop.id/v01";function i(e,t,n,c){return a.a.get(r+"/transaction/services?search="+e+"&category="+t+"&active="+n+"&margin_by="+c,{headers:Object(s.b)()}).then((e=>e.data)).catch((e=>{console.log(e)}))}function o(e){return a.a.get(r+"/transaction/services/"+e,{headers:Object(s.b)()}).then((e=>e.data)).catch((e=>{console.log(e)}))}function l(e,t){return a.a.put(r+"/transaction/services/"+e,t,{headers:Object(s.b)()}).then((e=>e.data)).catch((e=>e.response.data))}function j(){return a.a.get(r+"/transaction/service_margin",{headers:Object(s.b)()}).then((e=>e.data)).catch((e=>e.response.data))}function d(e){return a.a.put(r+"/transaction/service_margin",{margin_by:e.margin_by,nominal:e.nominal},{headers:Object(s.b)()}).then((e=>e.data)).catch((e=>e.response.data))}}}]);
//# sourceMappingURL=12.908357ce.chunk.js.map