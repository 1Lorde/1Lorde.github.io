(this.webpackJsonpekoop=this.webpackJsonpekoop||[]).push([[20],{1500:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(57),o=a(38),r=a(117),c=a(355),d=a(12),i=a(363),u=a(7);t.default=()=>{const[e,t]=Object(s.useState)(""),[a,p]=Object(s.useState)(""),[h,l]=Object(s.useState)("");let j=Object(d.g)();const{userState:b,userDispatch:O}=Object(s.useContext)(o.a),[f,w]=Object(s.useState)(!1);return Object(u.jsx)(n.o,{className:"d-flex justify-content-center",children:Object(u.jsx)(n.h,{style:{width:"35rem"},children:Object(u.jsx)(n.i,{children:Object(u.jsxs)(n.v,{noValidate:!0,validated:f,onSubmit:t=>{t.preventDefault();const s=t.currentTarget;!1===s.checkValidity()&&t.stopPropagation(),a===h?(w(!0),s.checkValidity()&&Object(i.a)(e,a).then((e=>{r.store.addNotification(Object(c.b)(e.message)),O({type:"request_otp",user:b.user,company:b.company}),j.push("/input_otp")})).catch((e=>{let t=e.response.data;console.log(t),r.store.addNotification(Object(c.a)(t.message))}))):r.store.addNotification(Object(c.a)("Check confirmation field"))},children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)(n.z,{htmlFor:"old_pass",children:"Old Password"}),Object(u.jsx)(n.y,{type:"password",id:"old_pass",required:!0,onChange:e=>t(e.target.value)}),Object(u.jsx)(n.x,{invalid:!0,children:"Please provide old password."})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)(n.z,{htmlFor:"new_pass",children:"New Password"}),Object(u.jsx)(n.y,{type:"password",pattern:"^.{6,}$",id:"new_pass",required:!0,onChange:e=>p(e.target.value)}),Object(u.jsx)(n.x,{invalid:!0,children:"Please provide new password (min 6 chars)."})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)(n.z,{htmlFor:"confirm_new_pass",children:"Confirm New Password"}),Object(u.jsx)(n.y,{type:"password",pattern:"^.{6,}$",id:"confirm_new_pass",required:!0,onChange:e=>l(e.target.value)}),Object(u.jsx)(n.x,{invalid:!0,children:"Please confirm new password."})]}),Object(u.jsx)("div",{className:"d-flex justify-content-end",children:Object(u.jsx)(n.e,{color:"primary",type:"submit",children:"Save"})})]})})})})}},363:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return l}));var s=a(353),n=a.n(s),o=a(352);const r="https://api.ekoop.id/v01";function c(e,t){return n.a.post(r+"/auth/auth/login/password",{wa_number:e,password:t},{headers:Object(o.a)()}).then((e=>e.data)).catch((e=>e.response.data))}function d(e,t){return n.a.post(r+"/auth/auth/login/otp",{auth_id:e,otp:t},{headers:Object(o.a)()}).then((e=>(e.data.access_token&&localStorage.setItem("token",e.data.access_token),e.data)))}function i(e,t){return n.a.post(r+"/auth/profile/change_password",{old_password:e,new_password:t},{headers:Object(o.b)()}).then((e=>(console.log(e.data),e.data)))}function u(e){return n.a.post(r+"/auth/profile/change_password/otp",{otp:e},{headers:Object(o.b)()}).then((e=>(console.log(e),e.data)))}function p(e,t){return n.a.post(r+"/auth/auth/forgot_password",{wa_number:e,ktp_id:t},{headers:Object(o.a)()}).then((e=>e.data)).catch((e=>e.response.data))}function h(e,t,a){return console.log(e),n.a.post(r+"/auth/auth/reset_password",{user_id:e,token:t,new_password:a},{headers:Object(o.a)()}).then((e=>e.data)).catch((e=>e.response.data))}function l(e,t){return n.a.post(r+"/auth/auth/reset_password_otp",{auth_id:e,otp:t},{headers:Object(o.a)()}).then((e=>e.data)).catch((e=>e.response.data))}}}]);
//# sourceMappingURL=20.2db0a0be.chunk.js.map