(this.webpackJsonpekoop=this.webpackJsonpekoop||[]).push([[47],{1545:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(60),c=a(123),i=a(122),r=a(370),o=a(12),d=a(395),u=a(445),l=a(8);t.default=()=>{const e=Object(o.g)(),{t:t}=Object(u.a)(),{id:a}=Object(o.i)(),[j,b]=Object(n.useState)(),[p,h]=Object(n.useState)();return Object(n.useEffect)((()=>{Object(d.b)(a).then((e=>{e.ok?(b(e.vendor),h(!0)):e.message?i.store.addNotification(Object(r.c)(e.message)):(console.log(e),i.store.addNotification(Object(r.a)(e.error)))}))}),[]),p?Object(l.jsx)(s.o,{className:"d-flex justify-content-center",children:Object(l.jsx)(s.h,{style:{width:"35rem"},children:Object(l.jsx)(s.i,{children:Object(l.jsxs)(s.v,{children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)(s.z,{htmlFor:"fullnameInput",children:t("company_name")}),Object(l.jsx)(s.y,{type:"text",id:"nameInput",defaultValue:j.name,onChange:e=>{b((t=>({...t,name:e.target.value})))}})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)(s.z,{htmlFor:"descInput",children:t("description")}),Object(l.jsx)(s.B,{type:"text",id:"descInput",defaultValue:j.desc,onChange:e=>{b((t=>({...t,desc:e.target.value})))}})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)(s.z,{htmlFor:"apiInput",children:"API URL"}),Object(l.jsx)(s.y,{type:"text",id:"apiInput",defaultValue:j.api_base_url,onChange:e=>{b((t=>({...t,api_base_url:e.target.value})))}})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)(s.z,{htmlFor:"statusInput",children:t("status")}),Object(l.jsxs)(s.A,{type:"text",id:"statusInput",defaultValue:j.status,onChange:e=>{b((t=>({...t,status:e.target.value})))},children:[Object(l.jsx)("option",{value:"NOT-ACTIVE",children:"Inactive"}),Object(l.jsx)("option",{value:"ACTIVE",children:"Active"})]})]}),Object(l.jsx)("div",{className:"d-flex justify-content-between",children:Object(l.jsx)(s.e,{color:"primary",variant:"outline",onClick:function(){console.log(j),Object(d.d)(j).then((t=>{console.log(t),t.ok?(i.store.addNotification(Object(r.c)("Vendor updated")),e.push("/ppob/vendors")):i.store.addNotification(Object(r.a)(t.message))}))},children:t("edit")})})]})})})}):Object(c.a)()}},395:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return u}));var n=a(368),s=a.n(n),c=a(367);const i="https://api.ekoop.id/v01";function r(e,t){return s.a.get(i+"/transaction/vendors?search="+e+"&status="+t,{headers:Object(c.b)()}).then((e=>e.data)).catch((e=>{console.log(e)}))}function o(e){return s.a.get(i+"/transaction/vendors/"+e,{headers:Object(c.b)()}).then((e=>e.data)).catch((e=>{console.log(e)}))}function d(e){return s.a.put(i+"/transaction/vendors/"+e.id,{name:e.name,desc:e.desc,api_base_url:e.api_base_url,status:e.status},{headers:Object(c.b)()}).then((e=>e.data)).catch((e=>e.response.data))}function u(e){return s.a.post(i+"/transaction/vendors",{name:e.name,slug:e.type,desc:e.desc,api_base_url:e.api_base_url,api_credential_params:"mobilepulsa"===e.type?{username:e.api_username,api_key:e.api_key}:{uid:e.api_username,pin:e.api_key}},{headers:Object(c.b)()}).then((e=>e.data)).catch((e=>e.response.data))}}}]);
//# sourceMappingURL=47.e0cdd452.chunk.js.map