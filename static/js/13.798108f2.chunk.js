(this.webpackJsonpekoop=this.webpackJsonpekoop||[]).push([[13],{1498:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(57),i=a(356),s=a(362),o=a(12),d=a(7);t.default=()=>{const e=Object(o.g)(),[t,a]=Object(r.useState)([]),[l,p]=Object(r.useState)(0),[u,b]=Object(r.useState)(!1),j=Object(r.useRef)(0),h=Object(r.useCallback)((({skip:t})=>{++j.current===j.current&&(b(!1),Object(i.c)(t).then((t=>{if(t.ok){var r;console.log(t);let c=Math.floor(t.pagination.total/t.pagination.limit);t.pagination.total/t.pagination.limit>l&&(c+=1),p(c),a(null===(r=t.data)||void 0===r?void 0:r.map((t=>({created:t.created,sender:t.sender,title:t.title,content:t.content,action:Object(d.jsx)(n.e,{color:"dark",size:"sm",onClick:()=>e.push("/notifications/"+t.id),children:"View"})})))),b(!0)}})))}),[]),g=c.a.useMemo((()=>[{Header:"Date",accessor:"created"},{Header:"Sender",accessor:"sender"},{Header:"Title",accessor:"title"},{Header:"Content",accessor:"content"},{Header:"Action",accessor:"action"}]),[]);return Object(d.jsxs)(n.o,{fluid:!0,children:[Object(d.jsxs)(n.X,{className:"align-items-center",children:[Object(d.jsx)(n.n,{xl:1,children:"Search"}),Object(d.jsx)(n.n,{children:Object(d.jsx)(n.y,{})}),Object(d.jsx)(n.n,{children:Object(d.jsxs)(n.A,{children:[Object(d.jsx)("option",{value:"1",children:"One"}),Object(d.jsx)("option",{value:"2",children:"Two"}),Object(d.jsx)("option",{value:"3",children:"Three"})]})})]}),Object(d.jsx)("br",{}),Object(d.jsx)(n.X,{children:Object(d.jsx)(n.h,{children:Object(d.jsx)(n.i,{children:Object(d.jsx)(s.a,{columns:g,data:t,controlledPageCount:l,fetchData:h,hasLoaded:u})})})})]})}},354:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return n}));const r={changePassword:"change-password",clientRegister:"client-register",clientApprove:"client-approve",clientReject:"client-reject",userCreate:"user-create",userEdit:"user-edit",nasabahCreate:"nasabah-create",nasabahEdit:"nasabah-edit",profileEdit:"profile-edit",packageCreate:"package-create",packageEdit:"package-edit",productCreate:"product-create",productEdit:"product-edit",ppobAllMarginEdit:"ppob-all-margin-edit",ppobEdit:"ppob-edit"},c={"change-password":"Password changed","client-register":"New client registered","client-approve":"Request approved","client-reject":"Request rejected","user-create":"New user created","user-edit":"User updated","nasabah-create":"New nasabah created","nasabah-edit":"Nasabah updated","profile-edit":"Profile updated","package-create":"New package created","package-edit":"Package updated","product-create":"New product created","product-edit":"Product updated","ppob-all-margin-edit":"All services margin updated","ppob-edit":"PPOB updated"},n={"change-password":"User's password changed","client-register":"New client registration request created","client-approve":"Client registration request approved","client-reject":"Client registration request rejected","user-create":"New user created: ","user-edit":"User`s info edited: ","nasabah-create":"New nasabah created: ","nasabah-edit":"Nasabah`s info updated: ","profile-edit":"Profile`s info updated","package-create":"New package created: ","package-edit":"Package`s info updated: ","product-create":"New product created: ","product-edit":"Product`s info updated: ","ppob-all-margin-edit":"All services margin updated","ppob-edit":"PPOB`s info updated: "}},356:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return l}));var r=a(353),c=a.n(r),n=a(352),i=a(354);const s="https://api.ekoop.id/v01";function o(e){return c.a.get(s+"/users/notification?skip="+e,{headers:Object(n.b)()}).then((e=>e.data)).catch((e=>{if(403===e.response.status)return console.log(e.message),null}))}function d(e){return c.a.get(s+"/users/notification/"+e,{headers:Object(n.b)()}).then((e=>e.data)).catch((e=>{if(403===e.response.status)return console.log(e.message),null}))}function l(e,t,a){const r={sender:e,service:t,title:i.c[t],content:i.a[t]+a,reference_id:""};return c.a.post(s+"/users/notification",r,{headers:Object(n.b)()}).then((e=>e.data)).catch((e=>{console.log(e.response.data)}))}},362:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(367),c=a(57),n=a(0),i=a(357);const s=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,16C123.452,16,16,123.452,16,256S123.452,496,256,496,496,388.548,496,256,388.548,16,256,16ZM403.078,403.078a207.253,207.253,0,1,1,44.589-66.125A207.332,207.332,0,0,1,403.078,403.078Z' class='ci-primary'/><rect width='40' height='40' x='152' y='200' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='40' height='40' x='320' y='200' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,288a88.1,88.1,0,0,0-88,88h32a56,56,0,0,1,112,0h32A88.1,88.1,0,0,0,256,288Z' class='ci-primary'/>"];var o=a(7);function d({columns:e,data:t,controlledPageCount:a,fetchData:d,hasLoaded:l}){const{getTableProps:p,getTableBodyProps:u,headerGroups:b,prepareRow:j,page:h,canPreviousPage:g,canNextPage:f,pageOptions:O,gotoPage:x,nextPage:m,previousPage:v,state:{pageIndex:P}}=Object(r.useTable)({columns:e,data:t,initialState:{pageIndex:0,pageSize:10},manualPagination:!0,pageCount:a},r.usePagination);return Object(n.useEffect)((()=>{d&&d({skip:10*P})}),[d,P]),l?h.length>0?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(c.fb,{hover:!0,responsive:!0,style:{minWidth:"45rem"},...p(),children:[Object(o.jsx)(c.ib,{children:b.map(((e,t)=>Object(o.jsx)(c.kb,{...e.getHeaderGroupProps(),children:e.headers.map(((e,t)=>Object(o.jsx)(c.jb,{...e.getHeaderProps(),children:e.render("Header")},t)))},t)))}),Object(o.jsx)(c.gb,{...u(),children:h.map(((e,t)=>(j(e),Object(o.jsx)(c.kb,{...e.getRowProps(),children:e.cells.map(((e,t)=>Object(o.jsx)(c.hb,{...e.getCellProps(),children:e.render("Cell")},t)))},t))))})]}),Object(o.jsxs)(c.o,{className:"d-flex justify-content-end align-items-center",children:[Object(o.jsx)(c.G,{className:"pe-2",children:"Go to page:"}),Object(o.jsx)(c.y,{min:1,max:a,type:"number",defaultValue:P+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;x(t)},style:{width:"100px"}})]}),Object(o.jsxs)(c.V,{align:"center","aria-label":"Page navigation",children:[Object(o.jsx)(c.W,{"aria-label":"First",onClick:()=>x(0),disabled:!g,children:"<<"}),Object(o.jsx)(c.W,{"aria-label":"Previous",onClick:()=>v(),disabled:!g,children:"<"}),Object(o.jsxs)(c.W,{"aria-label":"Current",style:{pointerEvents:"none"},children:["Page ",Object(o.jsx)("strong",{children:P+1})," of ",Object(o.jsx)("strong",{children:O.length})]}),Object(o.jsx)(c.W,{"aria-label":"Next",onClick:()=>m(),disabled:!f,children:">"}),Object(o.jsx)(c.W,{"aria-label":"Last",onClick:()=>x(a-1),disabled:!f,children:">>"})]})]}):Object(o.jsx)(c.n,{className:"d-flex justify-content-center",children:Object(o.jsxs)(c.G,{children:["Nothing there ",Object(o.jsx)(i.a,{icon:s})," "]})}):Object(o.jsx)(c.n,{className:"d-flex justify-content-center",children:Object(o.jsx)(c.cb,{color:"primary"})})}}}]);
//# sourceMappingURL=13.798108f2.chunk.js.map