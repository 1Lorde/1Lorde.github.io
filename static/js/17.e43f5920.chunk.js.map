{"version":3,"sources":["views/my_profile/MyProfile.js"],"names":["MyProfile","history","useHistory","userState","useContext","UserContext","fullName","setFullname","useState","address","setAddress","className","style","width","orientation","src","user","avatar","avatar_placeholder","htmlFor","type","id","defaultValue","name","onChange","e","target","value","ktp_id","disabled","wa_number","Roles","role","status","color","onClick","push","variant","changes","updateProfile","then","data","ok","store","addNotification","success","message","danger"],"mappings":"kGAAA,oFAgIeA,UA5GG,KAChB,MAAMC,EAAUC,eACV,UAAEC,GAAcC,qBAAWC,MAC1BC,EAAUC,GAAeC,mBAAS,KAClCC,EAASC,GAAcF,mBAAS,IAuBvC,OACE,cAAC,IAAD,CAAYG,UAAU,gCAAtB,SACE,eAAC,IAAD,CAAOC,MAAO,CAAEC,MAAO,SAAvB,UACE,cAAC,IAAD,CACEC,YAAY,MACZC,IAAMZ,EAAUa,KAAKC,OAA8Bd,EAAUa,KAAKC,OAApCC,MAEhC,cAAC,IAAD,UACE,eAAC,IAAD,WACE,sBAAKP,UAAU,OAAf,UACE,cAAC,IAAD,CAAYQ,QAAQ,gBAApB,uBACA,cAAC,IAAD,CACEC,KAAK,OACLC,GAAG,gBACHC,aAAcnB,EAAUa,KAAKO,KAC7BC,SAAWC,GAAMlB,EAAYkB,EAAEC,OAAOC,YAG1C,sBAAKhB,UAAU,OAAf,UACE,cAAC,IAAD,CAAYQ,QAAQ,iBAApB,wBACA,cAAC,IAAD,CACEC,KAAK,OACLC,GAAG,iBACHC,aAAcnB,EAAUa,KAAKY,OAC7BC,UAAQ,OAGZ,sBAAKlB,UAAU,OAAf,UACE,cAAC,IAAD,CAAYQ,QAAQ,gBAApB,6BACA,cAAC,IAAD,CACEC,KAAK,OACLC,GAAG,gBACHC,aAAcnB,EAAUa,KAAKc,UAC7BD,UAAQ,OAGZ,sBAAKlB,UAAU,OAAf,UACE,cAAC,IAAD,CAAYQ,QAAQ,eAApB,qBACA,cAAC,IAAD,CACEC,KAAK,OACLC,GAAG,eACHC,aAAcnB,EAAUa,KAAKP,QAC7Be,SAAWC,GAAMf,EAAWe,EAAEC,OAAOC,YAGzC,sBAAKhB,UAAU,OAAf,UACE,cAAC,IAAD,CAAYQ,QAAQ,gBAApB,sBACA,cAAC,IAAD,CACEC,KAAK,OACLC,GAAG,gBACHC,aAAcS,IAAM5B,EAAUa,KAAKgB,MACnCH,UAAQ,OAGZ,sBAAKlB,UAAU,OAAf,UACE,cAAC,IAAD,CAAYQ,QAAQ,cAApB,oBACA,eAAC,IAAD,CACEC,KAAK,OACLC,GAAG,cACHC,aAAcnB,EAAUa,KAAKiB,OAC7BJ,UAAQ,EAJV,UAME,wBAAQF,MAAM,WAAd,sBACA,wBAAQA,MAAM,SAAd,0BAGJ,sBAAKhB,UAAU,iCAAf,UACE,cAAC,IAAD,CAASuB,MAAM,UAAUC,QAxFjB,KAClBlC,EAAQmC,KAAK,6BAuFH,6BAGA,cAAC,IAAD,CAASF,MAAM,UAAUG,QAAQ,UAAUF,QAvFpC,KACjB,MAAMG,EAAU,GACZhC,IACFgC,EAAQf,KAAOjB,GAEbG,IACF6B,EAAQ7B,QAAUA,GAEpB8B,YAAcD,GAASE,MAAMC,IACvBA,EAAKC,GACPC,QAAMC,gBAAgBC,YAAQJ,EAAKK,UAEnCH,QAAMC,gBAAgBG,YAAON,EAAKK,cA2E5B","file":"static/js/17.e43f5920.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardImage,\n  CContainer,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CFormSelect,\n} from '@coreui/react'\n\nimport avatar_placeholder from '../../assets/images/avatar_placeholder.png'\nimport { useHistory } from 'react-router-dom'\nimport { updateProfile, UserContext } from '../../helpers/user'\nimport { store } from 'react-notifications-component'\nimport { danger, success } from '../../helpers/notifications'\nimport { Roles } from '../../helpers/role'\n\nconst MyProfile = () => {\n  const history = useHistory()\n  const { userState } = useContext(UserContext)\n  const [fullName, setFullname] = useState('')\n  const [address, setAddress] = useState('')\n\n  const handleClick = () => {\n    history.push('/profile/change_password')\n  }\n\n  const handleEdit = () => {\n    const changes = {}\n    if (fullName) {\n      changes.name = fullName\n    }\n    if (address) {\n      changes.address = address\n    }\n    updateProfile(changes).then((data) => {\n      if (data.ok) {\n        store.addNotification(success(data.message))\n      } else {\n        store.addNotification(danger(data.message))\n      }\n    })\n  }\n\n  return (\n    <CContainer className=\"d-flex justify-content-center\">\n      <CCard style={{ width: '35rem' }}>\n        <CCardImage\n          orientation=\"top\"\n          src={!userState.user.avatar ? avatar_placeholder : userState.user.avatar}\n        />\n        <CCardBody>\n          <CForm>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"fullnameInput\">Full Name</CFormLabel>\n              <CFormInput\n                type=\"text\"\n                id=\"fullnameInput\"\n                defaultValue={userState.user.name}\n                onChange={(e) => setFullname(e.target.value)}\n              />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"ktpnumberInput\">KTP Number</CFormLabel>\n              <CFormInput\n                type=\"text\"\n                id=\"ktpnumberInput\"\n                defaultValue={userState.user.ktp_id}\n                disabled\n              />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"wanumberInput\">WhatsApp Number</CFormLabel>\n              <CFormInput\n                type=\"text\"\n                id=\"wanumberInput\"\n                defaultValue={userState.user.wa_number}\n                disabled\n              />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"addressInput\">Address</CFormLabel>\n              <CFormInput\n                type=\"text\"\n                id=\"addressInput\"\n                defaultValue={userState.user.address}\n                onChange={(e) => setAddress(e.target.value)}\n              />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"positionInput\">Position</CFormLabel>\n              <CFormInput\n                type=\"text\"\n                id=\"positionInput\"\n                defaultValue={Roles[userState.user.role]}\n                disabled\n              />\n            </div>\n            <div className=\"mb-4\">\n              <CFormLabel htmlFor=\"statusInput\">Status</CFormLabel>\n              <CFormSelect\n                type=\"text\"\n                id=\"statusInput\"\n                defaultValue={userState.user.status}\n                disabled\n              >\n                <option value=\"inactive\">Inactive</option>\n                <option value=\"active\">Active</option>\n              </CFormSelect>\n            </div>\n            <div className=\"d-flex justify-content-between\">\n              <CButton color=\"primary\" onClick={handleClick}>\n                Change password\n              </CButton>\n              <CButton color=\"primary\" variant=\"outline\" onClick={handleEdit}>\n                Edit\n              </CButton>\n            </div>\n          </CForm>\n        </CCardBody>\n      </CCard>\n    </CContainer>\n  )\n}\n\nexport default MyProfile\n"],"sourceRoot":""}