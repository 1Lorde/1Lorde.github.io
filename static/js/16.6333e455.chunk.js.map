{"version":3,"sources":["views/my_company/MyCompany.js","api/api_client.js","views/pages/page404/Page404.js"],"names":["MyCompany","t","useTranslation","userState","useContext","UserContext","company","setCompany","useState","hasCompany","setHasCompany","useEffect","console","log","className","htmlFor","type","id","placeholder","defaultValue","onChange","e","target","value","address","documents","NPWP","no","SIUP","TDP","fluid","rounded","src","width","height","package","name","disabled","status","contact","dir_name","ktp_id","wa_number","color","onClick","updateProfileCompany","then","data","ok","store","addNotification","success","Page404","API_URL","getClient","axios","get","headers","authHeader","response","catch","reason","message","clientId","client","put","updateClient","contact_dir_name","registerClient","post","apiHeader","approveClient","rejectClient","getClients","skip","searchQuery","sort","md","variant","href"],"mappings":"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","file":"static/js/16.6333e455.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport {\n  CButton,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CImage,\n  CRow,\n} from '@coreui/react'\nimport { UserContext } from '../../helpers/user'\nimport { store } from 'react-notifications-component'\nimport { success } from '../../helpers/notifications'\nimport { updateProfileCompany } from '../../api/api_client'\nimport Page404 from '../pages/page404/Page404'\nimport { useTranslation } from 'react-i18next'\n\nconst MyCompany = () => {\n  const { t } = useTranslation()\n  const { userState } = useContext(UserContext)\n  const [company, setCompany] = useState({})\n  const [hasCompany, setHasCompany] = useState({})\n\n  useEffect(() => {\n    setHasCompany(userState.company)\n    console.log(hasCompany)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const handleEdit = () => {\n    updateProfileCompany(userState.company.id, company).then((data) => {\n      if (data.ok) {\n        store.addNotification(success(t('notifications.company_update')))\n      } else {\n        console.log(data)\n      }\n    })\n  }\n\n  return hasCompany ? (\n    <CForm>\n      <CRow>\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"company_name\">{t('company_name')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"company_name\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.company}\n              onChange={(e) => {\n                setCompany((company) => ({ ...company, company: e.target.value }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"address\">{t('address')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"address\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.address}\n              onChange={(e) => {\n                setCompany((company) => ({ ...company, address: e.target.value }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"npwp\">{t('npwp')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"npwp\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.documents?.NPWP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    NPWP: {\n                      ...company.documents.NPWP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"siup\">{t('siup')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"siup\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.documents?.SIUP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    SIUP: {\n                      ...company.documents.SIUP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"tdp\">{t('tdp')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"tdp\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.documents?.TDP?.no}\n              onChange={(e) => {\n                setCompany((company) => ({\n                  ...company,\n                  documents: {\n                    ...company.documents,\n                    TDP: {\n                      ...company.documents.TDP,\n                      no: e.target.value,\n                    },\n                  },\n                }))\n              }}\n            />\n          </div>\n        </CCol>\n        <CCol>\n          <CContainer fluid className=\"d-flex justify-content-center\">\n            <CImage\n              rounded\n              src={'https://via.placeholder.com/550x390.png?text=' + userState.company?.company}\n              width={550}\n              height={390}\n              className=\"mt-4\"\n            />\n          </CContainer>\n        </CCol>\n      </CRow>\n      <CRow className=\"mb-4 mt-3\">\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"website\">{t('website')}</CFormLabel>\n            <CFormInput type=\"text\" id=\"website\" placeholder={t('no_data')} />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"subscription\">{t('subscription_package')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"subscription\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.package?.name}\n              disabled\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"status\">{t('status')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"status\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.status}\n              disabled\n            />\n          </div>\n        </CCol>\n        <CCol>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"director\">{t('director_name')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"director\"\n              defaultValue={userState.company?.contact?.dir_name}\n              disabled\n              placeholder={t('no_data')}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"ktp\">{t('ktp')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"ktp\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.contact?.ktp_id}\n              disabled\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"wa\">{t('whatsapp')}</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"wa\"\n              placeholder={t('no_data')}\n              defaultValue={userState.company?.contact?.wa_number}\n              disabled\n            />\n          </div>\n        </CCol>\n      </CRow>\n      <CRow className=\"mb-3\">\n        <div className=\"d-flex justify-content-end\">\n          <CButton color=\"primary\" onClick={handleEdit}>\n            {t('edit')}\n          </CButton>\n        </div>\n      </CRow>\n    </CForm>\n  ) : (\n    Page404()\n  )\n}\n\nexport default MyCompany\n","import axios from 'axios'\nimport { apiHeader, authHeader } from './requestHeaders'\n\nconst API_URL = 'https://api.ekoop.id/v01'\n\nexport function getClient(id) {\n  return axios\n    .get(API_URL + '/users/admin/client/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateProfileCompany(clientId, client) {\n  return axios\n    .put(\n      API_URL + '/users/admin/client/' + clientId,\n      {\n        company: client.company,\n        address: client.address,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function updateClient(clientId, client) {\n  return axios\n    .put(\n      API_URL + '/users/admin/client/' + clientId,\n      {\n        company: client.company,\n        contact_dir_name: client.contact.dir_name,\n        address: client.address,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function registerClient(client) {\n  return axios\n    .post(API_URL + '/users/clients/register', client, {\n      headers: apiHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function approveClient(clientId) {\n  const status = {\n    status: 'ACTIVE',\n  }\n  return axios\n    .put(API_URL + '/users/admin/client/status/' + clientId, status, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function rejectClient(clientId) {\n  const status = {\n    status: 'REJECT',\n  }\n  return axios\n    .put(API_URL + '/users/admin/client/status/' + clientId, status, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClients(skip, searchQuery, status, sort) {\n  if (sort === '') sort = 'created_at:desc'\n\n  return axios\n    .get(\n      API_URL +\n        '/users/admin/client?search=' +\n        searchQuery +\n        '&status=' +\n        status +\n        '&sort=' +\n        sort +\n        '&skip=' +\n        skip,\n      { headers: authHeader() },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n","import React from 'react'\nimport { CButton, CCol, CContainer, CRow } from '@coreui/react'\nimport { useTranslation } from 'react-i18next'\n\nconst Page404 = () => {\n  const { t } = useTranslation()\n\n  return (\n    <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md={6}>\n            <div className=\"clearfix\">\n              <h1 className=\"float-start display-2 me-4\">404</h1>\n              <h4 className=\"pt-3\">{t('404_title')}</h4>\n              <p className=\"text-medium-emphasis float-start\">{t('404_description')}</p>\n            </div>\n          </CCol>\n        </CRow>\n        <CRow className=\"mt-4\">\n          <CCol className=\"d-flex justify-content-center\">\n            <CButton color=\"primary\" variant=\"outline\" href=\"/#/login\">\n              {t('return')}\n            </CButton>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Page404\n"],"sourceRoot":""}