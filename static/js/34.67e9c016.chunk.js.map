{"version":3,"sources":["../node_modules/@coreui/icons/js/free/cil-lock-locked.js","views/pages/login/Login.js","helpers/notifications.js","../node_modules/@coreui/icons/js/free/cil-phone.js"],"names":["cilLockLocked","Login","wa_number","setNumber","useState","password","setPassword","userDispatch","useContext","UserContext","history","useHistory","validated","setValidated","className","md","noValidate","onSubmit","event","preventDefault","form","currentTarget","checkValidity","stopPropagation","login","then","data","ok","type","temp_token","auth_id","console","log","store","addNotification","info","message","push","danger","icon","cilPhone","pattern","placeholder","required","value","onChange","e","target","invalid","color","to","success","title","insert","container","animationIn","animationOut","dismiss","duration"],"mappings":"8IAAO,MAAMA,EAAgB,CAAC,UAAU,8Q,qDC8GzBC,UAzFD,KACZ,MAAOC,EAAWC,GAAaC,mBAAS,KACjCC,EAAUC,GAAeF,mBAAS,KACnC,aAAEG,GAAiBC,qBAAWC,KAC9BC,EAAUC,eACTC,EAAWC,GAAgBT,oBAAS,GAyB3C,OACE,qBAAKU,UAAU,yDAAf,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMA,UAAU,yBAAhB,SACE,cAAC,IAAD,CAAMC,GAAI,EAAV,SACE,cAAC,IAAD,CAAOD,UAAU,MAAjB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAOE,YAAU,EAACJ,UAAWA,EAAWK,SA9BtD,SAAqBC,GACnBA,EAAMC,iBAEN,MAAMC,EAAOF,EAAMG,eACU,IAAzBD,EAAKE,iBACPJ,EAAMK,kBAERV,GAAa,GAETO,EAAKE,iBACPE,YAAMtB,EAAWG,GAAUoB,MAAMC,IAC3BA,EAAKC,IACPpB,EAAa,CAAEqB,KAAM,gBAAiBC,WAAYH,EAAKI,UACvDC,QAAQC,IAAIN,GACZO,QAAMC,gBAAgBC,YAAKT,EAAKU,UAChC1B,EAAQ2B,KAAK,eAEbJ,QAAMC,gBAAgBI,YAAOZ,EAAKU,cAa5B,UACE,uCACA,mBAAGtB,UAAU,uBAAb,qCACA,eAAC,IAAD,CAAaA,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOyB,KAAMC,QAEf,cAAC,IAAD,CACEZ,KAAK,MACLa,QAAQ,qBACRC,YAAY,kBACZC,UAAQ,EACRC,MAAO1C,EACP2C,SAAWC,GAAM3C,EAAU2C,EAAEC,OAAOH,SAEtC,cAAC,IAAD,CAAeI,SAAO,EAAtB,qDAEF,eAAC,IAAD,CAAalC,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOyB,KAAMvC,MAEf,cAAC,IAAD,CACE4B,KAAK,WACLc,YAAY,WACZC,UAAQ,EACRC,MAAOvC,EACPwC,SAAWC,GAAMxC,EAAYwC,EAAEC,OAAOH,SAExC,cAAC,IAAD,CAAeI,SAAO,EAAtB,2CAEF,cAAC,IAAD,UACE,cAAC,IAAD,CAAMlC,UAAU,+BAAhB,SACE,cAAC,IAAD,CAASmC,MAAM,UAAUnC,UAAU,OAAOc,KAAK,SAA/C,uBAKJ,cAAC,IAAD,UACE,cAAC,IAAD,CAAMd,UAAU,6BAAhB,SACE,cAAC,IAAD,CAAMoC,GAAG,kBAAT,mD,iCCjGf,SAASC,EAAQf,GACtB,MAAO,CACLgB,MAAO,UACPhB,QAASA,EACTR,KAAM,UACNyB,OAAQ,SACRC,UAAW,eACXC,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,oBACpCC,QAAS,CACPC,SAAU,MAKT,SAASpB,EAAOF,GACrB,MAAO,CACLgB,MAAO,QACPhB,QAASA,EACTR,KAAM,SACNyB,OAAQ,SACRC,UAAW,eACXC,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,oBACpCC,QAAS,CACPC,SAAU,MAKT,SAASvB,EAAKC,GACnB,MAAO,CACLgB,MAAO,OACPhB,QAASA,EACTR,KAAM,OACNyB,OAAQ,SACRC,UAAW,eACXC,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,oBACpCC,QAAS,CACPC,SAAU,MAxChB,uG,iCCAA,kCAAO,MAAMlB,EAAW,CAAC,UAAU","file":"static/js/34.67e9c016.chunk.js","sourcesContent":["export const cilLockLocked = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>\"]","import React, { useContext, useState } from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCol,\n  CContainer,\n  CForm,\n  CFormFeedback,\n  CFormInput,\n  CInputGroup,\n  CInputGroupText,\n  CRow,\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { cilLockLocked, cilPhone } from '@coreui/icons'\nimport { Link, useHistory } from 'react-router-dom'\nimport { login, UserContext } from '../../../helpers/user'\nimport { danger, info } from '../../../helpers/notifications'\nimport { store } from 'react-notifications-component'\n\nconst Login = () => {\n  const [wa_number, setNumber] = useState('')\n  const [password, setPassword] = useState('')\n  const { userDispatch } = useContext(UserContext)\n  const history = useHistory()\n  const [validated, setValidated] = useState(false)\n\n  function handleLogin(event) {\n    event.preventDefault()\n\n    const form = event.currentTarget\n    if (form.checkValidity() === false) {\n      event.stopPropagation()\n    }\n    setValidated(true)\n\n    if (form.checkValidity()) {\n      login(wa_number, password).then((data) => {\n        if (data.ok) {\n          userDispatch({ type: 'request_login', temp_token: data.auth_id })\n          console.log(data)\n          store.addNotification(info(data.message))\n          history.push('/input_otp')\n        } else {\n          store.addNotification(danger(data.message))\n        }\n      })\n    }\n  }\n\n  return (\n    <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md={5}>\n            <CCard className=\"p-4\">\n              <CCardBody>\n                <CForm noValidate validated={validated} onSubmit={handleLogin}>\n                  <h1>Login</h1>\n                  <p className=\"text-medium-emphasis\">Sign In to your account</p>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupText>\n                      <CIcon icon={cilPhone} />\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"tel\"\n                      pattern=\"^\\+62[0-9]{9,15}$\"\n                      placeholder=\"WhatsApp number\"\n                      required\n                      value={wa_number}\n                      onChange={(e) => setNumber(e.target.value)}\n                    />\n                    <CFormFeedback invalid>Please provide a valid phone number.</CFormFeedback>\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-4\">\n                    <CInputGroupText>\n                      <CIcon icon={cilLockLocked} />\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      required\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                    />\n                    <CFormFeedback invalid>Please provide a password.</CFormFeedback>\n                  </CInputGroup>\n                  <CRow>\n                    <CCol className=\"d-flex justify-content-start\">\n                      <CButton color=\"primary\" className=\"px-4\" type=\"submit\">\n                        Login\n                      </CButton>\n                    </CCol>\n                  </CRow>\n                  <CRow>\n                    <CCol className=\"d-flex justify-content-end\">\n                      <Link to=\"/reset_password\">Forgot password?</Link>\n                    </CCol>\n                  </CRow>\n                </CForm>\n              </CCardBody>\n            </CCard>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Login\n","export function success(message) {\n  return {\n    title: 'Success',\n    message: message,\n    type: 'success',\n    insert: 'bottom',\n    container: 'bottom-right',\n    animationIn: ['animate__animated', 'animate__fadeIn'],\n    animationOut: ['animate__animated', 'animate__fadeOut'],\n    dismiss: {\n      duration: 5000,\n    },\n  }\n}\n\nexport function danger(message) {\n  return {\n    title: 'Error',\n    message: message,\n    type: 'danger',\n    insert: 'bottom',\n    container: 'bottom-right',\n    animationIn: ['animate__animated', 'animate__fadeIn'],\n    animationOut: ['animate__animated', 'animate__fadeOut'],\n    dismiss: {\n      duration: 5000,\n    },\n  }\n}\n\nexport function info(message) {\n  return {\n    title: 'Info',\n    message: message,\n    type: 'info',\n    insert: 'bottom',\n    container: 'bottom-right',\n    animationIn: ['animate__animated', 'animate__fadeIn'],\n    animationOut: ['animate__animated', 'animate__fadeOut'],\n    dismiss: {\n      duration: 5000,\n    },\n  }\n}\n\nexport function warning(message) {\n  return {\n    title: 'Warning',\n    message: message,\n    type: 'warning',\n    insert: 'bottom',\n    container: 'bottom-right',\n    animationIn: ['animate__animated', 'animate__fadeIn'],\n    animationOut: ['animate__animated', 'animate__fadeOut'],\n    dismiss: {\n      duration: 5000,\n    },\n  }\n}\n","export const cilPhone = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M449.366,89.648l-.685-.428L362.088,46.559,268.625,171.176l43,57.337a88.529,88.529,0,0,1-83.115,83.114l-57.336-43L46.558,362.088l42.306,85.869.356.725.429.684a25.085,25.085,0,0,0,21.393,11.857h22.344A327.836,327.836,0,0,0,461.222,133.386V111.041A25.084,25.084,0,0,0,449.366,89.648Zm-20.144,43.738c0,163.125-132.712,295.837-295.836,295.837h-18.08L87,371.76l84.18-63.135,46.867,35.149h5.333a120.535,120.535,0,0,0,120.4-120.4v-5.333l-35.149-46.866L371.759,87l57.463,28.311Z' class='ci-primary'/>\"]"],"sourceRoot":""}