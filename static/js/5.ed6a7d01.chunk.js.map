{"version":3,"sources":["views/client/client_list/ClientList.js","helpers/api_requests.js"],"names":["ClientList","history","useHistory","hasLoaded","setHasLoaded","useState","clients","setClients","useEffect","getClients","then","data","className","xl","value","color","onClick","push","hover","responsive","style","minWidth","scope","map","item","index","company","wa_number","contact","dir_name","status","size","id","align","active","Loader","API_URL","getUsers","searchQuery","axios","get","headers","authHeader","response","catch","reason","console","log","message","getUser","updateUser","user","put","name","address","role","createUser","post","getClient","updateClient","clientId","client","getProducts","type","createProduct","product","updateProduct","changes","description","balance_start","percent_rate","limit_min","limit_max","rate_type","credit_simulation_id","getServices","getNasabah","nasabah_list","getNasabahCount","getAccountOfficerCount"],"mappings":"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","file":"static/js/5.ed6a7d01.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCol,\n  CContainer,\n  CFormInput,\n  CFormSelect,\n  CHeaderText,\n  CPagination,\n  CPaginationItem,\n  CRow,\n  CTable,\n  CTableBody,\n  CTableDataCell,\n  CTableHead,\n  CTableHeaderCell,\n  CTableRow,\n} from '@coreui/react'\nimport { useHistory } from 'react-router-dom'\nimport { getClients } from '../../../helpers/api_requests'\nimport Loader from '../../../components/Loader'\n\nconst ClientList = () => {\n  const history = useHistory()\n  const [hasLoaded, setHasLoaded] = useState()\n  const [clients, setClients] = useState([])\n\n  useEffect(() => {\n    getClients().then((data) => {\n      setClients(data)\n      setHasLoaded(true)\n    })\n  }, [])\n\n  function getTable() {\n    if (!clients)\n      return (\n        <>\n          <div className=\"d-flex justify-content-between\">\n            <CHeaderText>No clients found</CHeaderText>\n          </div>\n        </>\n      )\n\n    return (\n      <CTable hover responsive style={{ minWidth: '45rem' }}>\n        <CTableHead>\n          <CTableRow>\n            <CTableHeaderCell scope=\"col\">Company Name</CTableHeaderCell>\n            <CTableHeaderCell scope=\"col\">WhatsApp Number</CTableHeaderCell>\n            <CTableHeaderCell scope=\"col\">Director Name</CTableHeaderCell>\n            <CTableHeaderCell scope=\"col\">Status</CTableHeaderCell>\n            <CTableHeaderCell scope=\"col\">\n              <CButton color=\"primary\" onClick={() => history.push('/clients/create')}>\n                Add New\n              </CButton>\n            </CTableHeaderCell>\n          </CTableRow>\n        </CTableHead>\n        <CTableBody>\n          {clients?.map((item, index) => {\n            return (\n              <CTableRow key={index}>\n                <CTableDataCell>{item.company}</CTableDataCell>\n                <CTableDataCell>{item?.wa_number}</CTableDataCell>\n                <CTableDataCell>{item.contact.dir_name}</CTableDataCell>\n                <CTableDataCell>{item.status}</CTableDataCell>\n                <CTableDataCell>\n                  <CButton\n                    color={'dark'}\n                    size=\"sm\"\n                    onClick={() => history.push('/clients/' + item.id)}\n                  >\n                    Edit\n                  </CButton>\n                </CTableDataCell>\n              </CTableRow>\n            )\n          })}\n        </CTableBody>\n      </CTable>\n    )\n  }\n\n  return hasLoaded ? (\n    <CContainer>\n      <CRow className=\"align-items-center mb-4\">\n        <CCol xl={1}>Search</CCol>\n        <CCol>\n          <CFormInput></CFormInput>\n        </CCol>\n        <CCol>\n          <CFormSelect>\n            <option value=\"1\">One</option>\n            <option value=\"2\">Two</option>\n            <option value=\"3\">Three</option>\n          </CFormSelect>\n        </CCol>\n        <CCol className={'d-flex justify-content-end'}>\n          <CButton color=\"primary\" onClick={() => history.push('/clients/create')}>\n            Add New\n          </CButton>\n        </CCol>\n      </CRow>\n      <CRow>\n        <CCard>\n          <CCardBody>\n            {getTable()}\n            <CPagination align=\"center\" aria-label=\"Page navigation\">\n              <CPaginationItem aria-label=\"Previous\">\n                <span aria-hidden=\"true\">&laquo;</span>\n              </CPaginationItem>\n              <CPaginationItem active>1</CPaginationItem>\n              <CPaginationItem>2</CPaginationItem>\n              <CPaginationItem>3</CPaginationItem>\n              <CPaginationItem>4</CPaginationItem>\n              <CPaginationItem>5</CPaginationItem>\n              <CPaginationItem aria-label=\"Next\">\n                <span aria-hidden=\"true\">&raquo;</span>\n              </CPaginationItem>\n            </CPagination>\n          </CCardBody>\n        </CCard>\n      </CRow>\n    </CContainer>\n  ) : (\n    Loader()\n  )\n}\n\nexport default ClientList\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\n\nconst API_URL = 'https://api.ekoop.id/v01'\n\nexport function getUsers(searchQuery) {\n  return axios\n    .get(API_URL + '/auth/user?search=' + searchQuery, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getUser(id) {\n  return axios\n    .get(API_URL + '/auth/user/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateUser(user) {\n  return axios\n    .put(\n      API_URL + '/auth/user/' + user.id,\n      {\n        wa_number: user.wa_number,\n        name: user.name,\n        address: user.address,\n        role: user.role,\n        status: user.status,\n        // avatar: user.avatar,\n        // ktp_image: user.ktp_image,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function createUser(user) {\n  return axios\n    .post(API_URL + '/auth/user', user, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClient(id) {\n  return axios\n    .get(API_URL + '/users/admin/client/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateClient(clientId, client) {\n  return axios\n    .put(API_URL + '/users/admin/client/' + clientId, client, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClients() {\n  return axios\n    .get(API_URL + '/users/admin/client', { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getProducts(searchQuery, type) {\n  return axios\n    .get(API_URL + '/transaction/products?search=' + searchQuery + '&tipe=' + type, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function createProduct(product) {\n  return axios\n    .post(API_URL + '/transaction/products', product, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n\nexport function updateProduct(product) {\n  const changes = {\n    name: product.name,\n    description: product.description,\n    balance_start: product.balance_start,\n    percent_rate: product.percent_rate,\n    limit_min: product.limit_min,\n    limit_max: product.limit_max,\n    active: product.active,\n    rate_type: product.rate_type,\n  }\n\n  return axios\n    .put(API_URL + '/transaction/products/' + product.credit_simulation_id, changes, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getServices() {\n  return axios\n    .get(API_URL + '/transaction/services', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function getNasabah() {\n  return axios\n    .get(API_URL + '/nasabah/nasabah', { headers: authHeader() })\n    .then((response) => {\n      return response.data.nasabah_list\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getNasabahCount() {\n  return axios\n    .get(API_URL + '/auth/stat/nasabah/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getAccountOfficerCount() {\n  return axios\n    .get(API_URL + '/auth/stat/account_officer/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getClientCount() {\n  return axios\n    .get(API_URL + '/auth/stat/clients/all', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n"],"sourceRoot":""}