{"version":3,"sources":["views/products/products/Products.js","api/api_product.js"],"names":["Products","typeFilter","t","useTranslation","history","useHistory","products","setProducts","useState","hasLoaded","setHasLoaded","searchQuery","setSearchQuery","useEffect","getProducts","then","data","ok","console","log","className","xs","htmlFor","type","id","placeholder","onChange","e","target","value","color","onClick","push","map","product","index","xxl","md","style","width","height","cursor","credit_simulation_id","orientation","src","name","description","active","shape","Loader","API_URL","process","axios","get","headers","authHeader","response","catch","reason","getProduct","createProduct","post","updateProduct","changes","balance_start","percent_rate","limit_min","limit_max","rate_type","put"],"mappings":"kGAAA,oEAmGeA,UA7EE,IAAqB,IAApB,WAAEC,GAAiB,EACnC,MAAM,EAAEC,GAAMC,cACRC,EAAUC,eACTC,EAAUC,GAAeC,mBAAS,KAClCC,EAAWC,GAAgBF,sBAC3BG,EAAaC,GAAkBJ,mBAAS,IAY/C,OAVAK,qBAAU,KACRC,YAAYH,EAAaV,GAAYc,MAAMC,KACzB,IAAZA,EAAKC,KACPC,QAAQC,IAAIH,GACZT,EAAYS,EAAKV,UACjBI,GAAa,SAGhB,CAACC,EAAaV,IAEVQ,EACL,eAAC,IAAD,WACE,eAAC,IAAD,CAAMW,UAAU,kBAAhB,UACE,eAAC,IAAD,CAAMC,GAAI,EAAV,UACE,cAAC,IAAD,CAAYC,QAAQ,SAApB,SAA8BpB,EAAE,YAChC,cAAC,IAAD,CACEqB,KAAK,OACLC,GAAG,cACHC,YAAavB,EAAE,sBACfwB,SAAWC,IACTf,EAAee,EAAEC,OAAOC,aAI9B,cAAC,IAAD,UACE,cAAC,IAAD,CAASC,MAAM,UAAUC,QAAS,IAAM3B,EAAQ4B,KAAK,oBAArD,SACG9B,EAAE,kBAIT,uBAEA,cAAC,IAAD,CAAMkB,UAAU,wBAAhB,gBACGd,QADH,IACGA,OADH,EACGA,EAAU2B,KAAI,CAACC,EAASC,IAErB,cAAC,IAAD,CAAkBC,IAAK,EAAGC,GAAI,EAAGjB,UAAU,OAA3C,SACE,eAAC,IAAD,CACEkB,MAAO,CAAEC,MAAO,QAASC,OAAQ,OAAQC,OAAQ,WACjDV,QAAS,KACP3B,EAAQ4B,KAAK,aAAeE,EAAQQ,uBAHxC,UAME,cAAC,IAAD,CACEC,YAAY,MACZC,IAAK,gDAAkDV,EAAQW,OAEjE,eAAC,IAAD,CAAWzB,UAAU,cAArB,UACE,cAAC,IAAD,UAAac,EAAQW,OACrB,cAAC,IAAD,UAAYX,EAAQY,cACnBZ,EAAQa,OACP,cAAC,IAAD,CAAQjB,MAAM,UAAUkB,MAAM,eAA9B,SACG9C,EAAE,YAGL,cAAC,IAAD,CAAQ4B,MAAM,OAAOkB,MAAM,eAA3B,SACG9C,EAAE,qBApBFiC,UA+BnBc,gB,iCC/FJ,uKAGA,MAAMC,EAAUC,2BAET,SAASrC,EAAYH,EAAaY,GACvC,OAAO6B,IACJC,IAAIH,EAAU,gCAAkCvC,EAAc,SAAWY,EAAM,CAC9E+B,QAASC,gBAEVxC,MAAMyC,GACEA,EAASxC,OAEjByC,OAAOC,IACNxC,QAAQC,IAAIuC,MAIX,SAASC,EAAWnC,GACzB,OAAO4B,IACJC,IAAIH,EAAU,yBAA2B1B,EAAI,CAC5C8B,QAASC,gBAEVxC,MAAMyC,GACEA,EAASxC,OAEjByC,OAAOC,IACNxC,QAAQC,IAAIuC,MAIX,SAASE,EAAc1B,GAC5B,OAAOkB,IACJS,KAAKX,EAAU,wBAAyBhB,EAAS,CAChDoB,QAASC,gBAEVxC,MAAMyC,GACEA,EAASxC,OAEjByC,OAAOC,IACNxC,QAAQC,IAAIuC,EAAOF,SAASxC,SAI3B,SAAS8C,EAAc5B,GAC5B,MAAM6B,EAAU,CACdlB,KAAMX,EAAQW,KACdC,YAAaZ,EAAQY,YACrBkB,cAAe9B,EAAQ8B,cACvBC,aAAc/B,EAAQ+B,aACtBC,UAAWhC,EAAQgC,UACnBC,UAAWjC,EAAQiC,UACnBpB,OAAQb,EAAQa,OAChBqB,UAAWlC,EAAQkC,WAGrB,OAAOhB,IACJiB,IAAInB,EAAU,yBAA2BhB,EAAQQ,qBAAsBqB,EAAS,CAC/ET,QAASC,gBAEVxC,MAAMyC,GACEA,EAASxC,OAEjByC,OAAOC,GACCA,EAAOF,SAASxC","file":"static/js/24.33ba0601.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {\n  CBadge,\n  CButton,\n  CCard,\n  CCardBody,\n  CCardImage,\n  CCardText,\n  CCardTitle,\n  CCol,\n  CContainer,\n  CFormInput,\n  CFormLabel,\n  CRow,\n} from '@coreui/react'\n\nimport { useHistory } from 'react-router-dom'\nimport Loader from '../../../components/Loader'\nimport { getProducts } from '../../../api/api_product'\nimport { useTranslation } from 'react-i18next'\n\n// eslint-disable-next-line react/prop-types\nconst Products = ({ typeFilter }) => {\n  const { t } = useTranslation()\n  const history = useHistory()\n  const [products, setProducts] = useState([])\n  const [hasLoaded, setHasLoaded] = useState()\n  const [searchQuery, setSearchQuery] = useState('')\n\n  useEffect(() => {\n    getProducts(searchQuery, typeFilter).then((data) => {\n      if (data.ok === true) {\n        console.log(data)\n        setProducts(data.products)\n        setHasLoaded(true)\n      }\n    })\n  }, [searchQuery, typeFilter])\n\n  return hasLoaded ? (\n    <CContainer>\n      <CRow className=\"align-items-end\">\n        <CCol xs={6}>\n          <CFormLabel htmlFor=\"search\">{t('search')}</CFormLabel>\n          <CFormInput\n            type=\"text\"\n            id=\"searchInput\"\n            placeholder={t('enter_search_query')}\n            onChange={(e) => {\n              setSearchQuery(e.target.value)\n            }}\n          />\n        </CCol>\n        <CCol>\n          <CButton color=\"primary\" onClick={() => history.push('/products/create')}>\n            {t('add_new')}\n          </CButton>\n        </CCol>\n      </CRow>\n      <br />\n\n      <CRow className=\"justify-content-start\">\n        {products?.map((product, index) => {\n          return (\n            <CCol key={index} xxl={3} md={5} className=\"mb-4\">\n              <CCard\n                style={{ width: '18rem', height: '100%', cursor: 'pointer' }}\n                onClick={() => {\n                  history.push('/products/' + product.credit_simulation_id)\n                }}\n              >\n                <CCardImage\n                  orientation=\"top\"\n                  src={'https://via.placeholder.com/550x390.png?text=' + product.name}\n                />\n                <CCardBody className=\"text-center\">\n                  <CCardTitle>{product.name}</CCardTitle>\n                  <CCardText>{product.description}</CCardText>\n                  {product.active ? (\n                    <CBadge color=\"success\" shape=\"rounded-pill\">\n                      {t('active')}\n                    </CBadge>\n                  ) : (\n                    <CBadge color=\"dark\" shape=\"rounded-pill\">\n                      {t('inactive')}\n                    </CBadge>\n                  )}\n                </CCardBody>\n              </CCard>\n            </CCol>\n          )\n        })}\n      </CRow>\n    </CContainer>\n  ) : (\n    Loader()\n  )\n}\n\nexport default Products\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\n\nconst API_URL = process.env.REACT_APP_API_URL\n\nexport function getProducts(searchQuery, type) {\n  return axios\n    .get(API_URL + '/transaction/products?search=' + searchQuery + '&tipe=' + type, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function getProduct(id) {\n  return axios\n    .get(API_URL + '/transaction/products/' + id, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function createProduct(product) {\n  return axios\n    .post(API_URL + '/transaction/products', product, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n\nexport function updateProduct(product) {\n  const changes = {\n    name: product.name,\n    description: product.description,\n    balance_start: product.balance_start,\n    percent_rate: product.percent_rate,\n    limit_min: product.limit_min,\n    limit_max: product.limit_max,\n    active: product.active,\n    rate_type: product.rate_type,\n  }\n\n  return axios\n    .put(API_URL + '/transaction/products/' + product.credit_simulation_id, changes, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n"],"sourceRoot":""}