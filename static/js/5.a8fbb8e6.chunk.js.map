{"version":3,"sources":["views/products/products_ppob/ProductsPpob.js","helpers/notification_types.js","api/api_notification.js","helpers/utils.js","routes/RestrictedComponent.js","api/api_service.js"],"names":["ProductsPpob","t","useTranslation","userState","useContext","UserContext","history","useHistory","services","setServices","useState","hasLoaded","setHasLoaded","servicesMargin","setServicesMargin","validated","setValidated","searchQuery","setSearchQuery","category","setCategory","active","setActive","marginBy","setMarginBy","useEffect","console","log","getServices","then","data","ok","user","role","getServicesMargin","service_margin","className","xl","htmlFor","type","id","placeholder","onChange","e","target","value","allowedRoles","noValidate","onSubmit","event","preventDefault","form","currentTarget","checkValidity","stopPropagation","updateServicesMargin","createNotification","wa_number","Services","ppobAllMarginEdit","resp","store","addNotification","success","danger","error","defaultValue","margin_by","nominal","max","tryParseInt","size","length","map","service","index","xxl","md","style","width","height","cursor","onClick","push","orientation","src","name","desc","color","shape","Loader","changePassword","clientRegister","clientApprove","clientReject","userCreate","userEdit","nasabahCreate","nasabahEdit","profileEdit","packageCreate","packageEdit","productCreate","productEdit","ppobEdit","Titles","Contents","API_URL","process","getNotifications","skip","axios","get","headers","authHeader","response","catch","reason","status","message","getNotification","sender","extra","notification","title","content","reference_id","post","text","parsed","parseInt","isNaN","RestrictedComponent","children","userRole","getUserRole","includes","propTypes","PropTypes","element","request","array","getService","updateService","put"],"mappings":"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","file":"static/js/5.a8fbb8e6.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport {\n  CBadge,\n  CButton,\n  CCard,\n  CCardBody,\n  CCardImage,\n  CCardText,\n  CCardTitle,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CFormSelect,\n  CHeaderText,\n  CRow,\n} from '@coreui/react'\n\nimport { useHistory } from 'react-router-dom'\nimport Loader from '../../../components/Loader'\nimport { getServices, getServicesMargin, updateServicesMargin } from '../../../api/api_service'\nimport { store } from 'react-notifications-component'\nimport { danger, success } from '../../../helpers/notifications'\nimport { tryParseInt } from '../../../helpers/utils'\nimport { createNotification } from '../../../api/api_notification'\nimport { Services } from '../../../helpers/notification_types'\nimport { UserContext } from '../../../helpers/user'\nimport RestrictedComponent from '../../../routes/RestrictedComponent'\nimport { useTranslation } from 'react-i18next'\n\nconst ProductsPpob = () => {\n  const { t } = useTranslation()\n  const { userState } = useContext(UserContext)\n  const history = useHistory()\n  const [services, setServices] = useState([])\n  const [hasLoaded, setHasLoaded] = useState()\n  const [servicesMargin, setServicesMargin] = useState({})\n  const [validated, setValidated] = useState(false)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [category, setCategory] = useState('')\n  const [active, setActive] = useState('')\n  const [marginBy, setMarginBy] = useState('')\n\n  const handleServicesMarginUpdate = (event) => {\n    event.preventDefault()\n\n    const form = event.currentTarget\n    if (form.checkValidity() === false) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n    setValidated(true)\n\n    if (form.checkValidity()) {\n      console.log(servicesMargin)\n      updateServicesMargin(servicesMargin).then((data) => {\n        if (data.ok) {\n          console.log(data)\n          createNotification(userState.user.wa_number, Services.ppobAllMarginEdit, '').then(\n            (resp) => {\n              console.log('Notification created: ' + resp.id)\n            },\n          )\n          store.addNotification(success(t('notifications.service_margin_update')))\n        } else {\n          console.log(data)\n          store.addNotification(danger(data.error))\n        }\n      })\n    }\n  }\n\n  useEffect(() => {\n    console.log(marginBy)\n    getServices(searchQuery, category, active, marginBy).then((data) => {\n      if (data.ok === true) {\n        console.log(data)\n        console.log(userState)\n        setServices(data.services)\n        if (!hasLoaded && userState.user.role !== 'account-officer') {\n          getServicesMargin().then((data) => {\n            if (data.ok === true) {\n              console.log(data)\n              setServicesMargin(data.service_margin)\n              setHasLoaded(true)\n            }\n          })\n        } else {\n          setHasLoaded(true)\n        }\n      }\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, category, active, marginBy])\n\n  return hasLoaded ? (\n    <CContainer>\n      <CRow className=\"align-items-center mb-4\">\n        <CCol xl={4}>\n          <CFormLabel htmlFor=\"searchInput\">{t('search')}</CFormLabel>\n          <CFormInput\n            type=\"text\"\n            id=\"searchInput\"\n            placeholder={t('enter_search_query')}\n            onChange={(e) => {\n              setSearchQuery(e.target.value)\n            }}\n          />\n        </CCol>\n        <CCol>\n          <CFormLabel htmlFor=\"categoryInput\">{t('category')}</CFormLabel>\n          <CFormSelect\n            id=\"categoryInput\"\n            onChange={(e) => {\n              setCategory(e.target.value)\n            }}\n          >\n            <option value=\"\">{t('all')}</option>\n            <option value=\"postpaid\">{t('postpaid')}</option>\n            <option value=\"prepaid\">{t('prepaid')}</option>\n          </CFormSelect>\n        </CCol>\n        <CCol>\n          <CFormLabel htmlFor=\"statusInput\">{t('status')}</CFormLabel>\n          <CFormSelect\n            id=\"statusInput\"\n            onChange={(e) => {\n              setActive(e.target.value)\n            }}\n          >\n            <option value=\"\">{t('all')}</option>\n            <option value={1}>{t('active')}</option>\n            <option value={0}>{t('inactive')}</option>\n          </CFormSelect>\n        </CCol>\n        <RestrictedComponent allowedRoles={['app-owner', 'koperasi-owner', 'credit-analyst']}>\n          <CCol>\n            <CFormLabel htmlFor=\"marginByInput\">{t('margin_by')}</CFormLabel>\n            <CFormSelect\n              id=\"marginByInput\"\n              onChange={(e) => {\n                setMarginBy(e.target.value)\n              }}\n            >\n              <option value=\"\">{t('all')}</option>\n              <option value=\"fix_cost\">{t('fix_cost')}</option>\n              <option value=\"percent\">{t('percent')}</option>\n            </CFormSelect>\n          </CCol>\n        </RestrictedComponent>\n      </CRow>\n      <RestrictedComponent allowedRoles={['app-owner', 'koperasi-owner', 'credit-analyst']}>\n        <CForm noValidate validated={validated} onSubmit={handleServicesMarginUpdate}>\n          <CRow className=\"align-items-center mb-5\">\n            <CCol xl={3}>\n              <CFormLabel htmlFor=\"margin_by\">{t('margin_by_all')}</CFormLabel>\n              <CFormSelect\n                id=\"margin_by\"\n                defaultValue={servicesMargin.margin_by}\n                onChange={(e) => {\n                  setServicesMargin((servicesMargin) => ({\n                    ...servicesMargin,\n                    margin_by: e.target.value,\n                  }))\n                }}\n              >\n                <option value=\"fix_cost\">{t('fix_cost')}</option>\n                <option value=\"percent\">{t('percent')}</option>\n              </CFormSelect>\n            </CCol>\n\n            <CCol xl={3}>\n              <CFormLabel htmlFor=\"nominal\">{t('nominal')}</CFormLabel>\n              <CFormInput\n                id=\"nominal\"\n                type=\"number\"\n                defaultValue={servicesMargin.nominal}\n                max={servicesMargin.margin_by === 'percent' ? 100 : 100000}\n                onChange={(e) => {\n                  setServicesMargin((servicesMargin) => ({\n                    ...servicesMargin,\n                    nominal: tryParseInt(e.target.value),\n                  }))\n                }}\n              />\n            </CCol>\n            <CCol xl={3}>\n              <CButton className=\"mt-4\" size=\"sm\" type=\"submit\">\n                {t('update_margin')}\n              </CButton>\n            </CCol>\n          </CRow>\n        </CForm>\n      </RestrictedComponent>\n      <CRow className=\"justify-content-start\">\n        {services.length > 0 ? (\n          services?.map((service, index) => {\n            return (\n              <CCol key={index} xxl={3} md={5} className=\"mb-4\">\n                <CCard\n                  style={{ width: '18rem', height: '100%', cursor: 'pointer' }}\n                  onClick={() => {\n                    history.push('/products/ppob/' + service.id)\n                  }}\n                >\n                  <CCardImage\n                    orientation=\"top\"\n                    src={'https://via.placeholder.com/550x390.png?text=' + service.name}\n                  />\n                  <CCardBody className=\"text-center\">\n                    <CCardTitle>{service.name}</CCardTitle>\n                    <CCardText>{service.desc}</CCardText>\n                    {service.active ? (\n                      <CBadge color=\"success\" shape=\"rounded-pill\">\n                        {t('active')}\n                      </CBadge>\n                    ) : (\n                      <CBadge color=\"dark\" shape=\"rounded-pill\">\n                        {t('inactive')}\n                      </CBadge>\n                    )}\n                  </CCardBody>\n                </CCard>\n              </CCol>\n            )\n          })\n        ) : (\n          <>\n            <div className=\"d-flex justify-content-center\">\n              <CHeaderText>{t('not_found')}</CHeaderText>\n            </div>\n          </>\n        )}\n      </CRow>\n    </CContainer>\n  ) : (\n    Loader()\n  )\n}\n\nexport default ProductsPpob\n","export const Services = {\n  changePassword: 'change-password',\n  clientRegister: 'client-register',\n  clientApprove: 'client-approve',\n  clientReject: 'client-reject',\n  userCreate: 'user-create',\n  userEdit: 'user-edit',\n  nasabahCreate: 'nasabah-create',\n  nasabahEdit: 'nasabah-edit',\n  profileEdit: 'profile-edit',\n  packageCreate: 'package-create',\n  packageEdit: 'package-edit',\n  productCreate: 'product-create',\n  productEdit: 'product-edit',\n  ppobAllMarginEdit: 'ppob-all-margin-edit',\n  ppobEdit: 'ppob-edit',\n}\n\nexport const Titles = {\n  'change-password': 'Password changed',\n  'client-register': 'New client registered',\n  'client-approve': 'Request approved',\n  'client-reject': 'Request rejected',\n  'user-create': 'New user created',\n  'user-edit': 'User updated',\n  'nasabah-create': 'New nasabah created',\n  'nasabah-edit': 'Nasabah updated',\n  'profile-edit': 'Profile updated',\n  'package-create': 'New package created',\n  'package-edit': 'Package updated',\n  'product-create': 'New product created',\n  'product-edit': 'Product updated',\n  'ppob-all-margin-edit': 'All services margin updated',\n  'ppob-edit': 'PPOB updated',\n}\n\nexport const Contents = {\n  'change-password': \"User's password changed\",\n  'client-register': 'New client registration request created',\n  'client-approve': 'Client registration request approved',\n  'client-reject': 'Client registration request rejected',\n  'user-create': 'New user created: ',\n  'user-edit': 'User`s info edited: ',\n  'nasabah-create': 'New nasabah created: ',\n  'nasabah-edit': 'Nasabah`s info updated: ',\n  'profile-edit': 'Profile`s info updated',\n  'package-create': 'New package created: ',\n  'package-edit': 'Package`s info updated: ',\n  'product-create': 'New product created: ',\n  'product-edit': 'Product`s info updated: ',\n  'ppob-all-margin-edit': 'All services margin updated',\n  'ppob-edit': 'PPOB`s info updated: ',\n}\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\nimport { Contents, Titles } from '../helpers/notification_types'\n\nconst API_URL = process.env.REACT_APP_API_URL\n\nexport function getNotifications(skip) {\n  return axios\n    .get(API_URL + '/users/notification?skip=' + skip, { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getNotification(id) {\n  return axios\n    .get(API_URL + '/users/notification/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function createNotification(sender, service, extra) {\n  const notification = {\n    sender: sender,\n    service: service,\n    title: Titles[service],\n    content: Contents[service] + extra,\n    reference_id: '',\n  }\n\n  return axios\n    .post(API_URL + '/users/notification', notification, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n","export function tryParseInt(text) {\n  const parsed = parseInt(text)\n  if (isNaN(parsed)) {\n    return ''\n  }\n  return parsed\n}\n","import PropTypes from 'prop-types'\nimport { getUserRole } from '../helpers/user'\n\nconst RestrictedComponent = ({ children, allowedRoles }) => {\n  const userRole = getUserRole()\n  const isAllowed = allowedRoles.includes(userRole)\n  return isAllowed && children\n}\n\nRestrictedComponent.propTypes = {\n  children: PropTypes.element,\n  request: PropTypes.array,\n}\n\nexport default RestrictedComponent\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\n\nconst API_URL = process.env.REACT_APP_API_URL\n\nexport function getServices(searchQuery, category, active, marginBy) {\n  return axios\n    .get(\n      API_URL +\n        '/transaction/services?search=' +\n        searchQuery +\n        '&category=' +\n        category +\n        '&active=' +\n        active +\n        '&margin_by=' +\n        marginBy,\n      { headers: authHeader() },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function getService(id) {\n  return axios\n    .get(API_URL + '/transaction/services/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function updateService(id, service) {\n  return axios\n    .put(API_URL + '/transaction/services/' + id, service, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getServicesMargin() {\n  return axios\n    .get(API_URL + '/transaction/service_margin', {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function updateServicesMargin(servicesMargin) {\n  return axios\n    .put(\n      API_URL + '/transaction/service_margin',\n      {\n        margin_by: servicesMargin.margin_by,\n        nominal: servicesMargin.nominal,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n"],"sourceRoot":""}