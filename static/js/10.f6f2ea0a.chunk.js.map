{"version":3,"sources":["views/products/products_savings_details/ProductSavingsDetails.js","helpers/api_requests.js"],"names":["ProductSavingsDetails","props","history","useHistory","product","setProduct","useState","hasLoaded","setHasLoaded","tryParseInt","text","parsed","parseInt","isNaN","useEffect","location","state","push","console","log","xs","cols","md","className","htmlFor","id","value","tipe","disabled","fluid","thumbnail","rounded","src","name","width","height","type","onChange","e","target","rows","description","balance_start","percent_rate","defaultValue","rate_type","limit_min","limit_max","active","color","variant","onClick","updateProduct","then","data","ok","store","addNotification","success","danger","message","Loader","API_URL","getUsers","searchQuery","axios","get","headers","authHeader","response","catch","reason","status","getUser","updateUser","user","put","wa_number","address","role","createUser","post","getClient","updateClient","clientId","client","getClients","getProducts","createProduct","changes","credit_simulation_id","getServices"],"mappings":"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","file":"static/js/10.f6f2ea0a.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {\n  CButton,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CFormSelect,\n  CFormTextarea,\n  CImage,\n  CRow,\n} from '@coreui/react'\nimport Loader from '../../../components/Loader'\nimport { updateProduct } from '../../../helpers/api_requests'\nimport { store } from 'react-notifications-component'\nimport { danger, success } from '../../../helpers/notifications'\nimport { useHistory } from 'react-router-dom'\n\nconst ProductSavingsDetails = (props) => {\n  const history = useHistory()\n  const [product, setProduct] = useState()\n  const [hasLoaded, setHasLoaded] = useState()\n\n  useEffect(\n    () => {\n      // eslint-disable-next-line react/prop-types\n      if (!props.location.state) {\n        history.push('/products/savings')\n      }\n      // eslint-disable-next-line react/prop-types\n      setProduct(props.location.state)\n      setHasLoaded(true)\n      // eslint-disable-next-line react/prop-types\n      console.log(props.location.state)\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [],\n  )\n\n  function tryParseInt(text) {\n    const parsed = parseInt(text)\n    if (isNaN(parsed)) {\n      return ''\n    }\n    return parsed\n  }\n\n  function handleEdit() {\n    console.log(product)\n    updateProduct(product).then((data) => {\n      console.log(data)\n      if (data.ok) {\n        store.addNotification(success('Product updated'))\n      } else {\n        store.addNotification(danger(data.message))\n      }\n    })\n  }\n\n  return hasLoaded ? (\n    <CForm>\n      <CRow xs={{ cols: 1 }} md={{ cols: 2 }} className=\"mb-4\">\n        <CCol>\n          <CFormLabel htmlFor=\"type\">Type of Product</CFormLabel>\n          <CFormSelect id=\"type\" value={product.tipe} disabled>\n            <option value=\"savings\">Savings</option>\n            <option value=\"credits\">Credits</option>\n          </CFormSelect>\n          <CContainer fluid className=\"d-flex justify-content-center mb-5\">\n            <CImage\n              thumbnail\n              rounded\n              src={'https://via.placeholder.com/550x390.png?text=' + product.name}\n              width={500}\n              height={500}\n              className=\"mt-5\"\n            />\n          </CContainer>\n        </CCol>\n        <CCol>\n          <div className=\"mb-2\">\n            <CFormLabel htmlFor=\"name\">Products Name</CFormLabel>\n            <CFormInput\n              type=\"text\"\n              id=\"name\"\n              value={product.name}\n              onChange={(e) => {\n                setProduct((product) => ({ ...product, name: e.target.value }))\n              }}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <CFormLabel htmlFor=\"description\">Description</CFormLabel>\n            <CFormTextarea\n              type=\"text\"\n              id=\"description\"\n              rows=\"3\"\n              value={product.description}\n              onChange={(e) => {\n                setProduct((product) => ({ ...product, description: e.target.value }))\n              }}\n            />\n          </div>\n\n          <h5>Balance</h5>\n          <div className=\"ms-4 mb-2\">\n            <CFormLabel htmlFor=\"start\">Start</CFormLabel>\n            <CFormInput\n              type=\"number\"\n              id=\"start\"\n              value={product.balance_start}\n              onChange={(e) => {\n                setProduct((product) => ({\n                  ...product,\n                  balance_start: tryParseInt(e.target.value),\n                }))\n              }}\n            />\n          </div>\n          <div className=\"ms-4 mb-2\">\n            <CFormLabel htmlFor=\"min\">Minimal</CFormLabel>\n            <CFormInput type=\"number\" id=\"min\" />\n          </div>\n\n          <h5>Rate</h5>\n          <CRow className=\"ms-3 mb-3\">\n            <CCol xs={4}>\n              <CFormLabel htmlFor=\"percent_rate\">Percentage</CFormLabel>\n              <CFormInput\n                type=\"number\"\n                id=\"percent_rate\"\n                value={product.percent_rate}\n                onChange={(e) => {\n                  setProduct((product) => ({\n                    ...product,\n                    percent_rate: tryParseInt(e.target.value),\n                  }))\n                }}\n              />\n            </CCol>\n            <CCol>\n              <CFormLabel htmlFor=\"rate_type\">Type</CFormLabel>\n              <CFormSelect\n                id=\"rate_type\"\n                defaultValue={product.rate_type}\n                onChange={(e) => {\n                  setProduct((product) => ({\n                    ...product,\n                    rate_type: e.target.value,\n                  }))\n                }}\n              >\n                <option value=\"fix\">Fix</option>\n                <option value=\"efektif\">Efektif</option>\n                <option value=\"syaria\">Syaria</option>\n              </CFormSelect>\n            </CCol>\n          </CRow>\n\n          <h5>Requirements</h5>\n          <CRow className=\"mb-3 ms-3\">\n            <CCol>\n              <CFormLabel htmlFor=\"limit_min\">Limit Min</CFormLabel>\n              <CFormInput\n                type=\"number\"\n                id=\"limit_min\"\n                value={product.limit_min}\n                onChange={(e) => {\n                  setProduct((product) => ({\n                    ...product,\n                    limit_min: tryParseInt(e.target.value),\n                  }))\n                }}\n              />\n            </CCol>\n            <CCol>\n              <CFormLabel htmlFor=\"limit_max\">Limit Max</CFormLabel>\n              <CFormInput\n                type=\"number\"\n                id=\"limit_max\"\n                value={product.limit_max}\n                onChange={(e) => {\n                  setProduct((product) => ({\n                    ...product,\n                    limit_max: tryParseInt(e.target.value),\n                  }))\n                }}\n              />\n            </CCol>\n          </CRow>\n\n          <CFormLabel htmlFor=\"status\">Status</CFormLabel>\n          <CFormSelect\n            id=\"status\"\n            value={product.active}\n            onChange={(e) => {\n              setProduct((product) => ({\n                ...product,\n                active: e.target.value === 'true',\n              }))\n            }}\n          >\n            <option value=\"true\">Active</option>\n            <option value=\"false\">Inactive</option>\n          </CFormSelect>\n        </CCol>\n      </CRow>\n      <CRow xs={{ cols: 1 }} md={{ cols: 2 }}>\n        <CCol className=\"d-grid d-md-flex justify-content-md-start mb-3\">\n          <CButton color=\"primary\" variant=\"outline\">\n            Register Nasabah to this Product\n          </CButton>\n        </CCol>\n        <CCol className=\"d-grid d-md-flex justify-content-md-end mb-3\" onClick={handleEdit}>\n          <CButton color=\"primary\">Edit</CButton>\n        </CCol>\n      </CRow>\n    </CForm>\n  ) : (\n    Loader()\n  )\n}\n\nexport default ProductSavingsDetails\n","import axios from 'axios'\nimport { authHeader } from './requestHeaders'\n\nconst API_URL = 'https://api.ekoop.id/v01'\n\nexport function getUsers(searchQuery) {\n  return axios\n    .get(API_URL + '/auth/user?search=' + searchQuery, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getUser(id) {\n  return axios\n    .get(API_URL + '/auth/user/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateUser(user) {\n  return axios\n    .put(\n      API_URL + '/auth/user/' + user.id,\n      {\n        wa_number: user.wa_number,\n        name: user.name,\n        address: user.address,\n        role: user.role,\n        status: user.status,\n        // avatar: user.avatar,\n        // ktp_image: user.ktp_image,\n      },\n      {\n        headers: authHeader(),\n      },\n    )\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function createUser(user) {\n  return axios\n    .post(API_URL + '/auth/user', user, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClient(id) {\n  return axios\n    .get(API_URL + '/users/admin/client/' + id, { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function updateClient(clientId, client) {\n  return axios\n    .put(API_URL + '/users/admin/client/' + clientId, client, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getClients() {\n  return axios\n    .get(API_URL + '/users/admin/client', { headers: authHeader() })\n    .then((response) => {\n      return response.data.data\n    })\n    .catch((reason) => {\n      if (reason.response.status === 403) {\n        console.log(reason.message)\n        return null\n      }\n    })\n}\n\nexport function getProducts(searchQuery, type) {\n  return axios\n    .get(API_URL + '/transaction/products?search=' + searchQuery + '&tipe=' + type, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n\nexport function createProduct(product) {\n  return axios\n    .post(API_URL + '/transaction/products', product, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason.response.data)\n    })\n}\n\nexport function updateProduct(product) {\n  const changes = {\n    name: product.name,\n    description: product.description,\n    balance_start: product.balance_start,\n    percent_rate: product.percent_rate,\n    limit_min: product.limit_min,\n    limit_max: product.limit_max,\n    active: product.active,\n    rate_type: product.rate_type,\n  }\n\n  return axios\n    .put(API_URL + '/transaction/products/' + product.credit_simulation_id, changes, {\n      headers: authHeader(),\n    })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      return reason.response.data\n    })\n}\n\nexport function getServices() {\n  return axios\n    .get(API_URL + '/transaction/services', { headers: authHeader() })\n    .then((response) => {\n      return response.data\n    })\n    .catch((reason) => {\n      console.log(reason)\n    })\n}\n"],"sourceRoot":""}